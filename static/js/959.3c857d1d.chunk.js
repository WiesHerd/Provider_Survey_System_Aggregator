"use strict";(self.webpackChunksurvey_data_processing_system=self.webpackChunksurvey_data_processing_system||[]).push([[959],{2192:(e,r,o)=>{o.d(r,{W:()=>t});class t{constructor(e){this.MAPPINGS_KEY="column_mappings",this.LEARNED_MAPPINGS_KEY="learned-column-mappings",this.storage=void 0,this.storage=e}async createMapping(e,r){const o={standardizedName:e,sourceColumns:r},t=await fetch("http://localhost:3001/api/mappings/column",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});return await t.json()}async getAllMappings(){try{const e=await fetch("http://localhost:3001/api/mappings/column");if(!e.ok)throw new Error("Failed to fetch");return await e.json()}catch(e){return[]}}async deleteMapping(e){await fetch("http://localhost:3001/api/mappings/column/".concat(e),{method:"DELETE"})}async clearAllMappings(){console.log("Clearing all column mappings from database...");const e=await fetch("http://localhost:3001/api/mappings/column",{method:"DELETE"});if(!e.ok)throw new Error("Failed to clear mappings: ".concat(e.status," ").concat(e.statusText));const r=await e.json();console.log("Clear all mappings result:",r)}async saveMappings(e){}async autoMapColumns(e){const r=await this.getUnmappedColumns();console.log("Auto-mapping columns:",r.map(e=>e.name));const o=[],t=new Set;for(const n of r){if(t.has(n.id))continue;const c=r.filter(e=>!t.has(e.id)).map(r=>({column:r,similarity:this.calculateSimilarity(n.name,r.name,r.dataType,n.dataType,e)})).filter(r=>(console.log('Similarity between "'.concat(n.name,'" and "').concat(r.column.name,'": ').concat(r.similarity)),r.similarity>=e.confidenceThreshold)).sort((e,r)=>r.similarity-e.similarity);if(c.length>0){const e=c.map(e=>e.column);e.forEach(e=>t.add(e.id)),console.log('Creating mapping for "'.concat(n.name,'" with ').concat(e.length," columns:"),e.map(e=>e.name)),o.push({standardizedName:this.generateStandardizedName(e),columns:e,confidence:c[0].similarity})}}return console.log("Final auto-mapping suggestions:",o.map(e=>({name:e.standardizedName,columns:e.columns.map(e=>e.name),confidence:e.confidence}))),o.sort((e,r)=>r.confidence-e.confidence)}calculateSimilarity(e,r,o,t,n){const c=e.toLowerCase().replace(/[^a-z0-9]/g,""),s=r.toLowerCase().replace(/[^a-z0-9]/g,"");if(c===s)return 1;if(c.replace(/[0-9]/g,"")!==s.replace(/[0-9]/g,""))return.1;const i=c.match(/[0-9]+/g)||[],a=s.match(/[0-9]+/g)||[];if(i.length>0&&a.length>0){if(i.some(e=>a.some(r=>e!==r)))return console.log('Different numbers detected: "'.concat(e,'" vs "').concat(r,'" - returning 0.2 similarity')),.2}let l=1-this.levenshteinDistance(c,s)/Math.max(c.length,s.length);if(n.includeDataTypeMatching){l=o===t?l:.8*l}return console.log('Similarity calculation: "'.concat(e,'" vs "').concat(r,'" = ').concat(l)),l}levenshteinDistance(e,r){const o=e.length,t=r.length,n=Array(o+1).fill(0).map(()=>Array(t+1).fill(0));for(let c=0;c<=o;c++)n[c][0]=c;for(let c=0;c<=t;c++)n[0][c]=c;for(let c=1;c<=o;c++)for(let o=1;o<=t;o++)e[c-1]===r[o-1]?n[c][o]=n[c-1][o-1]:n[c][o]=1+Math.min(n[c-1][o],n[c][o-1],n[c-1][o-1]);return n[o][t]}generateStandardizedName(e){return e.map(e=>e.name).reduce((e,r)=>e.length<=r.length?e:r).replace(/[^a-zA-Z0-9\s]/g," ").replace(/\s+/g," ").trim()}async getUnmappedColumns(){const e=await this.getAllMappings();console.log("Current mappings count:",e.length);const r=new Set;e.forEach(e=>{e.sourceColumns.forEach(e=>{const o="".concat(e.name,"-").concat(e.surveySource);r.add(o),console.log("Mapped column key:",o)})});const t=(await o.e(256).then(o.bind(o,6256))).default.getInstance(),n=await t.getAllSurveys(),c=[];for(const o of n){const e=await t.getSurveyMeta(o.id).catch(()=>({}));(Array.isArray(null===e||void 0===e?void 0:e.columns)&&e.columns.length>0?e.columns:[]).forEach((e,t)=>{const n=String(e||"").trim(),s=o.type||o.name||"Unknown",i="".concat(n,"-").concat(s);r.has(i)?console.log("Column already mapped:",i):c.push({id:"".concat(s,"-").concat(n,"-").concat(t),name:n,surveySource:s,dataType:"string"})})}return console.log("Total unmapped columns found:",c.length),c}inferDataType(e,r){const o=e.split("\n").slice(1,6).map(e=>{var o;return null===(o=e.split(",")[r])||void 0===o?void 0:o.trim()});return o.every(e=>!isNaN(Number(e)))?"number":o.every(e=>!isNaN(Date.parse(e)))?"date":"string"}}},2959:(e,r,o)=>{o.r(r),o.d(r,{default:()=>T});var t=o(2555),n=o(5043),c=o(6446),s=o(5865),i=o(7561),a=o(7913),l=o(7970),p=o(9650),u=o(3336),d=o(1806),g=o(4882),m=o(8076),f=o(39),h=o(3460),y=o(2704),v=o(3090),x=o(2192),b=o(1591),_=o(6256),w=o(4614),S=o(579);const A=(e,r)=>{if(0===e.length)return 0;const o=e.sort((e,r)=>e-r);return o[Math.floor(r/100*o.length)]||0},j=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:r,maximumFractionDigits:r}).format(e)},C=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),N=(e,r)=>{if(0===e.length||e.length!==r.length)return 0;const o=r.reduce((r,o,t)=>r+o*e[t],0),t=r.reduce((e,r)=>e+r,0);return 0===t?0:o/t},z=e=>0===e.length?0:e.reduce((e,r)=>e+r,0)/e.length,L=(e,r)=>{const o=e=>e.toLowerCase().replace(/[^a-z0-9]+/g," ").trim(),t=o(e),n=o(r);if(!t||!n)return!1;if(t===n)return!0;if(t.includes(n)||n.includes(t))return!0;const c=t.split(/\s+/).filter(e=>e.length>2),s=n.split(/\s+/).filter(e=>e.length>2);if(0===c.length||0===s.length)return!1;const i=c.filter(e=>s.includes(e));return i.length/new Set([...c,...s]).size>=.6||i.length>=.8*Math.min(c.length,s.length)},k=(e,r,o,t)=>{if(console.log("\ud83d\udd04 Transforming survey data with mappings:",{rawDataLength:e.length,columnMappingsCount:r.length,specialtyMappingsCount:o.length,surveySource:t}),console.log("\ud83d\udd0d First few raw specialties:",e.slice(0,3).map(e=>e.specialty)),"SullivanCotter"===t){const r=e.filter(e=>e.specialty&&(e.specialty.toLowerCase().includes("allergy")||e.specialty.toLowerCase().includes("immunology")));console.log("\ud83d\udd0d Found",r.length,"Allergy & Immunology rows in SullivanCotter raw data"),r.length>0&&console.log("\ud83d\udccb Sample Allergy & Immunology rows:",r.slice(0,3).map(e=>e.specialty))}if(0===e.length)return[];const n=new Map;r.forEach(e=>{e.sourceColumns.forEach(r=>{r.surveySource===t&&n.set(r.name,e.standardizedName)})});const c=new Map;if(o.forEach(e=>{e.sourceSpecialties.forEach(r=>{r.surveySource===t&&c.set(r.specialty.toLowerCase(),e.standardizedName)})}),console.log("\ud83d\udccb Column mapping lookup for",t,":",Object.fromEntries(n)),console.log("\ud83d\udccb Specialty mapping lookup for",t,":",Object.fromEntries(c)),"SullivanCotter"===t){console.log("\ud83d\udd0d Checking SullivanCotter specialty mappings for Allergy & Immunology...");const e=Array.from(c.entries()).filter(e=>{let[r,o]=e;return r.includes("allergy")||r.includes("immunology")||o.includes("Allergy")||o.includes("Immunology")});console.log("\ud83d\udccb Allergy & Immunology mappings for SullivanCotter:",e)}const s=new Set;return o.forEach(e=>{e.sourceSpecialties.forEach(e=>{s.add(e.surveySource)})}),console.log("\ud83d\udccb All available survey sources in mappings:",Array.from(s)),console.log("\ud83d\udd0d Looking for survey source:",t),e.map(e=>{const r={surveySource:t,specialty:e.specialty||e.normalizedSpecialty||"",originalSpecialty:e.specialty||"",providerType:e.providerType||e.provider_type||"",geographicRegion:e.geographicRegion||e.geographic_region||"",n_orgs:0,n_incumbents:0,tcc_p25:0,tcc_p50:0,tcc_p75:0,tcc_p90:0,wrvu_p25:0,wrvu_p50:0,wrvu_p75:0,wrvu_p90:0,cf_p25:0,cf_p50:0,cf_p75:0,cf_p90:0},o=String(e.specialty||"").toLowerCase();let s=c.get(o);return e.specialty&&(e.specialty.toLowerCase().includes("allergy")||e.specialty.toLowerCase().includes("immunology"))&&(console.log('\ud83d\udd0d Processing Allergy/Immunology specialty: "'.concat(e.specialty,'" (normalized: "').concat(o,'")')),console.log("\ud83d\udccb Available mappings for ".concat(t,":"),Array.from(c.entries())),console.log('\ud83d\udd0d Looking for mapping: "'.concat(o,'"')),console.log("\ud83d\udd0d Found mapping: ".concat(s||"NOT FOUND"))),o&&!s&&(console.log('\ud83d\udd0d Processing specialty: "'.concat(e.specialty,'" (normalized: "').concat(o,'")')),console.log("\ud83d\udccb Available mappings for ".concat(t,":"),Array.from(c.entries()))),s||Array.from(c.entries()).forEach(r=>{let[t,n]=r;L(o,t)&&(s=n,console.log('\ud83d\udd04 Fuzzy mapped specialty: "'.concat(e.specialty,'" \u2192 "').concat(s,'" (matched "').concat(t,'")')))}),s?(r.specialty=s,r.originalSpecialty=e.specialty||"",console.log('\u2705 Mapped specialty: "'.concat(e.specialty,'" \u2192 "').concat(s,'"'))):(console.log('\u274c No mapping found for specialty: "'.concat(e.specialty,'" (normalized: "').concat(o,'")')),console.log("\ud83d\udccb Available mappings for this survey source:",Array.from(c.entries())),r.specialty=e.specialty||"",r.originalSpecialty=e.specialty||""),Object.keys(e).forEach(o=>{const t=n.get(o);if(t){const n=e[o];t.toLowerCase().includes("tcc")?t.toLowerCase().includes("p25")?r.tcc_p25=Number(n)||0:t.toLowerCase().includes("p50")?r.tcc_p50=Number(n)||0:t.toLowerCase().includes("p75")?r.tcc_p75=Number(n)||0:t.toLowerCase().includes("p90")&&(r.tcc_p90=Number(n)||0):t.toLowerCase().includes("wrvu")?t.toLowerCase().includes("p25")?r.wrvu_p25=Number(n)||0:t.toLowerCase().includes("p50")?r.wrvu_p50=Number(n)||0:t.toLowerCase().includes("p75")?r.wrvu_p75=Number(n)||0:t.toLowerCase().includes("p90")&&(r.wrvu_p90=Number(n)||0):t.toLowerCase().includes("cf")?t.toLowerCase().includes("p25")?r.cf_p25=Number(n)||0:t.toLowerCase().includes("p50")?r.cf_p50=Number(n)||0:t.toLowerCase().includes("p75")?r.cf_p75=Number(n)||0:t.toLowerCase().includes("p90")&&(r.cf_p90=Number(n)||0):t.toLowerCase().includes("orgs")?r.n_orgs=Number(n)||0:t.toLowerCase().includes("incumbents")&&(r.n_incumbents=Number(n)||0)}}),r})},T=()=>{const[e,r]=(0,n.useState)(!0),[o,T]=(0,n.useState)(null),[M,E]=(0,n.useState)([]),[R,P]=(0,n.useState)({}),[F,O]=(0,n.useState)({specialty:"",providerType:"",region:"",surveySource:""}),B=(0,n.useMemo)(()=>new v.w(new b.s),[]),D=(0,n.useMemo)(()=>new x.W(new b.s),[]),I=(0,n.useMemo)(()=>new b.s,[]),W=(0,n.useMemo)(()=>_.default.getInstance(),[]),U=((0,n.useMemo)(()=>{const e=new Map;return M.forEach(r=>{const o=new Map;r.sourceSpecialties.forEach(e=>{const r=o.get(e.surveySource)||[];r.push(e.specialty),o.set(e.surveySource,r)}),e.set(r.standardizedName,o)}),e},[M]),(0,n.useMemo)(()=>{const e=new Map;return Object.values(R).forEach(r=>{var o;const t=String((null===(o=r[0])||void 0===o?void 0:o.surveySource)||"unknown");e.set(t,(e.get(t)||0)+1)}),e},[R]),(0,n.useMemo)(()=>{const e={specialties:new Set,providerTypes:new Set,regions:new Set,surveySources:new Set};M.forEach(r=>{r.standardizedName&&(e.specialties.add(r.standardizedName),console.log("Added specialty from mapping:",r.standardizedName))}),console.log("Extracting unique values from surveys with cascading filters:",F,Object.keys(R));const r=M.find(e=>e.standardizedName===F.specialty),o=new Map;return r&&r.sourceSpecialties.forEach(e=>{const r=o.get(e.surveySource)||[];r.push(e.specialty),o.set(e.surveySource,r)}),Object.entries(R).forEach(r=>{let[t,n]=r;console.log("Processing survey ".concat(t," with ").concat(n.length," rows")),n.forEach(r=>{const t=String(r.surveySource||"");if(F.surveySource&&t.toLowerCase()!==F.surveySource.toLowerCase())return;if(F.specialty){const e=String(r.specialty||""),n=e.toLowerCase()===F.specialty.toLowerCase(),c=(o.get(t)||[]).some(r=>L(e,r));if(!n&&!c)return}r.providerType&&(e.providerTypes.add(String(r.providerType)),console.log("Added provider type:",r.providerType));const n=r.geographicRegion||r.geographic_region;n&&(e.regions.add(String(n)),console.log("Added region:",n)),r.surveySource&&(e.surveySources.add(String(r.surveySource)),console.log("Added survey source:",r.surveySource))})}),console.log("Total specialties found:",e.specialties.size),console.log("All specialties:",Array.from(e.specialties)),console.log("Total survey sources found:",e.surveySources.size),console.log("All survey sources:",Array.from(e.surveySources)),console.log("Total provider types found:",e.providerTypes.size),console.log("All provider types:",Array.from(e.providerTypes)),console.log("Total regions found:",e.regions.size),console.log("All regions:",Array.from(e.regions)),{specialties:Array.from(e.specialties).sort(),providerTypes:Array.from(e.providerTypes).sort(),regions:Array.from(e.regions).sort(),surveySources:Array.from(e.surveySources).sort()}},[M,R]));(0,n.useEffect)(()=>{(async()=>{r(!0);try{const e=await B.getAllMappings();console.log("Loaded specialty mappings:",e.length,"mappings found"),console.log("Available standardized names:",e.map(e=>e.standardizedName)),E(e);const r=await D.getAllMappings();console.log("Loaded column mappings:",r.length,"mappings found");const n=await W.getAllSurveys();if(console.log("\ud83d\udcca Found surveys:",n.map(e=>({id:e.id,type:e.type,totalRows:e.rowCount,fileName:e.fileName,uploadDate:e.uploadDate}))),0===n.length)return console.error("\u274c No surveys found! This is the problem."),void T("No surveys found. Please upload some survey data first.");const c={};for(const l of n)try{const o=l.type;console.log("\ud83d\udd0d Loading data for survey ".concat(l.id," (").concat(o,")"));const n=await W.getSurveyData(l.id,void 0,{limit:1e4});if(n&&n.rows){n.rows.length>0&&console.log("\ud83d\udccb Available columns:",Object.keys(n.rows[0])),console.log("\ud83d\udd04 Transforming ".concat(n.rows.length," rows for survey ").concat(l.id," (").concat(o,")")),console.log("\ud83d\udccb Available column mappings:",r.map(e=>({standardizedName:e.standardizedName,sourceColumns:e.sourceColumns.map(e=>"".concat(e.name," (").concat(e.surveySource,")"))}))),console.log("\ud83d\udd04 About to transform ".concat(n.rows.length," rows for survey ").concat(l.id," (").concat(o,")"));const s=k(n.rows,r,e,o);if(console.log("\u2705 Transformed ".concat(s.length," rows for survey ").concat(l.id)),"SullivanCotter"===o){const e=s.filter(e=>e.specialty&&(e.specialty.toLowerCase().includes("allergy")||e.specialty.toLowerCase().includes("immunology")));console.log("\ud83d\udd0d Found",e.length,"Allergy & Immunology rows in SullivanCotter transformed data"),e.length>0&&console.log("\ud83d\udccb Sample transformed Allergy & Immunology rows:",e.slice(0,3).map(e=>e.specialty))}const i=n.rows.slice(0,5).map(e=>e.specialty),a=s.slice(0,5).map(e=>e.specialty);if(console.log("\ud83d\udccb Original specialties (first 5):",i),console.log("\ud83d\udccb Transformed specialties (first 5):",a),n.rows.length>0){const e=n.rows.slice(0,5).map(e=>e.specialty);console.log("\ud83d\udccb Sample specialties from ".concat(o,":"),e)}s.length>0&&console.log("Sample transformed row:",{surveySource:s[0].surveySource,specialty:s[0].specialty,tcc_p50:s[0].tcc_p50,wrvu_p50:s[0].wrvu_p50,cf_p50:s[0].cf_p50}),c[l.id]=s.map(e=>{const r=(0,t.A)((0,t.A)({},e),{},{surveySource:o,specialty:e.specialty||e.normalizedSpecialty||"",originalSpecialty:e.originalSpecialty||e.specialty||e.normalizedSpecialty||"",providerType:e.providerType||e.provider_type||"",geographicRegion:e.geographicRegion||e.geographic_region||"",n_orgs:Number(e.n_orgs)||0,n_incumbents:Number(e.n_incumbents)||0,tcc_p25:Number(e.tcc_p25)||0,tcc_p50:Number(e.tcc_p50)||0,tcc_p75:Number(e.tcc_p75)||0,tcc_p90:Number(e.tcc_p90)||0,wrvu_p25:Number(e.wrvu_p25)||0,wrvu_p50:Number(e.wrvu_p50)||0,wrvu_p75:Number(e.wrvu_p75)||0,wrvu_p90:Number(e.wrvu_p90)||0,cf_p25:Number(e.cf_p25)||0,cf_p50:Number(e.cf_p50)||0,cf_p75:Number(e.cf_p75)||0,cf_p90:Number(e.cf_p90)||0});return 0===s.indexOf(e)&&console.log("Sample transformed row:",{surveySource:r.surveySource,specialty:r.specialty,providerType:r.providerType,metrics:{tcc:{p25:r.tcc_p25,p50:r.tcc_p50,p75:r.tcc_p75,p90:r.tcc_p90},wrvu:{p25:r.wrvu_p25,p50:r.wrvu_p50,p75:r.wrvu_p75,p90:r.wrvu_p90},cf:{p25:r.cf_p25,p50:r.cf_p50,p75:r.cf_p75,p90:r.cf_p90}}}),r})}}catch(o){console.error("Error processing survey ".concat(l.id,":"),o)}console.log("Total surveys loaded:",Object.keys(c).length),console.log("Survey data keys:",Object.keys(c));const s=[];Object.entries(c).forEach(e=>{var r;let[o,t]=e;const n=Array.from(new Set(t.map(e=>String(e.specialty||"")).filter(Boolean)));s.push(...n),console.log("Survey ".concat(o,":"),{rowCount:t.length,surveySource:null===(r=t[0])||void 0===r?void 0:r.surveySource,specialties:n,hasData:t.some(e=>e.tcc_p50>0||e.wrvu_p50>0),sampleRow:t[0]})});const i=Array.from(new Set(s));console.log("\ud83d\udccb All unique specialties across all surveys:",i);const a=i.filter(e=>String(e).toLowerCase().includes("allergy")||String(e).toLowerCase().includes("immunology"));console.log("\ud83c\udfaf Allergy & Immunology related specialties found:",a),Object.entries(c).forEach(e=>{let[r,o]=e;const t=o.filter(e=>e.specialty&&(String(e.specialty).toLowerCase().includes("allergy")||String(e.specialty).toLowerCase().includes("immunology")));t.length>0&&console.log("\u2705 Survey ".concat(r," has ").concat(t.length," Allergy & Immunology rows:"),t.slice(0,3).map(e=>({specialty:e.specialty,originalSpecialty:e.originalSpecialty,surveySource:e.surveySource})))}),P(c)}catch(o){console.error("Error fetching data:",o),T("Failed to load data")}finally{r(!1)}})()},[B,I]);const V=(0,n.useMemo)(()=>{if(!F.specialty)return[];const e=M.find(e=>e.standardizedName===F.specialty);if(!e)return console.log("\u274c No mapping found for specialty:",F.specialty),console.log("\ud83d\udccb Available mappings:",M.map(e=>e.standardizedName)),[];console.log("\u2705 Selected mapping:",e),console.log("\ud83d\udcca Available surveys:",Object.keys(R));const r=[];if(Object.entries(R).forEach(o=>{var t;let[n,c]=o;if(!c||!c.length)return void console.log("\u274c No data found for survey ".concat(n));const s=null===(t=c[0])||void 0===t?void 0:t.surveySource;console.log("\ud83d\udd0d Checking survey ".concat(n," (").concat(s,') for specialty "').concat(F.specialty,'"'));const i=e.sourceSpecialties.filter(e=>e.surveySource===s).map(e=>e.specialty);console.log("\ud83c\udfaf Expected source specialties for ".concat(s,":"),i);const a=c.filter(r=>{if(!r)return!1;const o=String(r.specialty||"").trim(),t=e.standardizedName.trim(),n=o.toLowerCase()===t.toLowerCase();if(!n&&r.originalSpecialty){const o=String(r.originalSpecialty).toLowerCase();if(e.sourceSpecialties.find(e=>e.surveySource===s&&e.specialty.toLowerCase()===o))return console.log('\u2705 Found mapping match: "'.concat(r.originalSpecialty,'" \u2192 "').concat(t,'"')),!0}const c=!F.providerType||String(r.providerType||r.provider_type||"").toLowerCase().trim()===F.providerType.toLowerCase().trim(),i=!F.region||String(r.geographicRegion||r.geographic_region||"").toLowerCase().trim()===F.region.toLowerCase().trim(),a=!F.surveySource||String(r.surveySource||"").toLowerCase().trim()===F.surveySource.toLowerCase().trim(),l=n&&c&&i&&a;return n?console.log('\u2705 Found matching row: "'.concat(o,'" matches "').concat(t,'"')):(console.log('\u274c No direct match: "'.concat(o,'" != "').concat(t,'"')),console.log("\ud83d\udd0d Row details:",{surveySource:r.surveySource,specialty:r.specialty,originalSpecialty:r.originalSpecialty,providerType:r.providerType,geographicRegion:r.geographicRegion})),l});a.length>0?(console.log("\u2705 Found ".concat(a.length," matching rows in survey ").concat(n," (").concat(s,') for specialty "').concat(F.specialty,'"')),r.push(...a)):console.log("\u274c No matching rows found in survey ".concat(n," (").concat(s,') for specialty "').concat(F.specialty,'"'))}),console.log("\ud83d\udcca Total matching rows found across all surveys: ".concat(r.length)),0===r.length)return console.log("\u274c No matching rows found for any survey"),console.log("\ud83d\udccb Available specialties in mappings:",M.map(e=>e.standardizedName)),console.log("\ud83c\udfaf Selected specialty:",F.specialty),[];const o=new Map;r.forEach(e=>{var r;const t="".concat(e.surveySource||"","-").concat(e.providerType||"","-").concat(e.geographicRegion||"");o.has(t)||o.set(t,[]),null===(r=o.get(t))||void 0===r||r.push(e)}),console.log("Grouped into ".concat(o.size," unique combinations"));const t=[];return o.forEach((r,o)=>{const n=r[0],c={n_orgs:r.reduce((e,r)=>e+(Number(r.n_orgs)||0),0),n_incumbents:r.reduce((e,r)=>e+(Number(r.n_incumbents)||0),0),tcc_avg:z([...r.map(e=>Number(e.tcc_p25)||0),...r.map(e=>Number(e.tcc_p50)||0),...r.map(e=>Number(e.tcc_p75)||0),...r.map(e=>Number(e.tcc_p90)||0)].filter(Boolean)),wrvu_avg:z([...r.map(e=>Number(e.wrvu_p25)||0),...r.map(e=>Number(e.wrvu_p50)||0),...r.map(e=>Number(e.wrvu_p75)||0),...r.map(e=>Number(e.wrvu_p90)||0)].filter(Boolean)),cf_avg:z([...r.map(e=>Number(e.cf_p25)||0),...r.map(e=>Number(e.cf_p50)||0),...r.map(e=>Number(e.cf_p75)||0),...r.map(e=>Number(e.cf_p90)||0)].filter(Boolean)),tcc_weighted_avg:N(r.map(e=>Number(e.tcc_p50)||0),r.map(e=>Number(e.n_incumbents)||0)),wrvu_weighted_avg:N(r.map(e=>Number(e.wrvu_p50)||0),r.map(e=>Number(e.n_incumbents)||0)),cf_weighted_avg:N(r.map(e=>Number(e.cf_p50)||0),r.map(e=>Number(e.n_incumbents)||0)),tcc_p25:A(r.map(e=>Number(e.tcc_p25)||0).filter(Boolean),25),tcc_p50:A(r.map(e=>Number(e.tcc_p50)||0).filter(Boolean),50),tcc_p75:A(r.map(e=>Number(e.tcc_p75)||0).filter(Boolean),75),tcc_p90:A(r.map(e=>Number(e.tcc_p90)||0).filter(Boolean),90),wrvu_p25:A(r.map(e=>Number(e.wrvu_p25)||0).filter(Boolean),25),wrvu_p50:A(r.map(e=>Number(e.wrvu_p50)||0).filter(Boolean),50),wrvu_p75:A(r.map(e=>Number(e.wrvu_p75)||0).filter(Boolean),75),wrvu_p90:A(r.map(e=>Number(e.wrvu_p90)||0).filter(Boolean),90),cf_p25:A(r.map(e=>Number(e.cf_p25)||0).filter(Boolean),25),cf_p50:A(r.map(e=>Number(e.cf_p50)||0).filter(Boolean),50),cf_p75:A(r.map(e=>Number(e.cf_p75)||0).filter(Boolean),75),cf_p90:A(r.map(e=>Number(e.cf_p90)||0).filter(Boolean),90)};t.push({standardizedName:e.standardizedName,surveySource:String(n.surveySource||""),surveySpecialty:String(n.specialty||""),geographicRegion:String(n.geographicRegion||""),n_orgs:c.n_orgs,n_incumbents:c.n_incumbents,tcc_p25:c.tcc_p25,tcc_p50:c.tcc_p50,tcc_p75:c.tcc_p75,tcc_p90:c.tcc_p90,wrvu_p25:c.wrvu_p25,wrvu_p50:c.wrvu_p50,wrvu_p75:c.wrvu_p75,wrvu_p90:c.wrvu_p90,cf_p25:c.cf_p25,cf_p50:c.cf_p50,cf_p75:c.cf_p75,cf_p90:c.cf_p90})}),console.log("Generated rows:",t),t},[F,M,R]),G=(0,n.useMemo)(()=>(console.log("Filtering data with:",F),console.log("Available aggregated data:",V),V.filter(e=>{const r=!F.specialty||e.standardizedName.toLowerCase().includes(F.specialty.toLowerCase()),o=!F.surveySource||e.surveySource.toLowerCase().includes(F.surveySource.toLowerCase()),t=!F.providerType||Object.values(R).some(r=>r.some(r=>{var o;return r.specialty===e.surveySpecialty&&r.surveySource===e.surveySource&&(null===(o=r.providerType)||void 0===o?void 0:o.toLowerCase().includes(F.providerType.toLowerCase()))})),n=!F.region||Object.values(R).some(r=>r.some(r=>{var o;return r.specialty===e.surveySpecialty&&r.surveySource===e.surveySource&&(null===(o=r.geographicRegion)||void 0===o?void 0:o.toLowerCase().includes(F.region.toLowerCase()))}));return r&&o&&t&&n})),[V,F,R]),q=(e,r)=>{O(o=>{const n=(0,t.A)((0,t.A)({},o),{},{[e]:r});return"specialty"===e&&(n.providerType="",n.region="",n.surveySource=""),"surveySource"===e&&(n.providerType="",n.region=""),"providerType"===e&&(n.region=""),console.log("Filter changed:",e,"to",r,"New filters:",n),n})};return e?(0,S.jsx)(w.Ay,{message:"Loading survey analytics...",fullScreen:!0,size:"lg"}):o?(0,S.jsx)(c.A,{p:3,children:(0,S.jsx)(s.A,{color:"error",children:o})}):(0,S.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8 mt-4",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Data Filters"}),(0,S.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Refine your survey analytics view"})]}),(0,S.jsx)("div",{className:"flex items-center space-x-3",children:(0,S.jsxs)("button",{onClick:()=>{(()=>{const e=G.map(e=>[e.surveySource,e.surveySpecialty,e.geographicRegion,e.n_orgs,e.n_incumbents,e.tcc_p25,e.tcc_p50,e.tcc_p75,e.tcc_p90,e.wrvu_p25,e.wrvu_p50,e.wrvu_p75,e.wrvu_p90,e.cf_p25,e.cf_p50,e.cf_p75,e.cf_p90]);e.unshift(["Survey Source","Survey Specialty","Geographic Region","# Organizations","# Incumbents","TCC P25","TCC P50","TCC P75","TCC P90","wRVU P25","wRVU P50","wRVU P75","wRVU P90","CF P25","CF P50","CF P75","CF P90"]);const r=e.map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),n=URL.createObjectURL(o);t.setAttribute("href",n),t.setAttribute("download","survey-analytics-".concat((new Date).toISOString().split("T")[0],".csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)})()},disabled:0===G.length,className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:text-gray-500 text-white text-sm font-medium rounded-lg transition-all duration-200",children:[(0,S.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Download to Excel"]})})]}),(0,S.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),(0,S.jsx)(i.A,{fullWidth:!0,size:"small",children:(0,S.jsxs)(a.A,{value:F.specialty,onChange:e=>q("specialty",e.target.value),sx:{backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px","& .MuiOutlinedInput-root":{fontSize:"0.875rem",borderRadius:"8px"},"&:hover":{borderColor:"#9ca3af"},"&.Mui-focused":{borderColor:"#3b82f6"}},displayEmpty:!0,children:[(0,S.jsx)(l.A,{value:"",children:"All Specialties"}),U.specialties.map(e=>(0,S.jsx)(l.A,{value:e,children:e},e))]})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Survey Source"}),(0,S.jsx)(i.A,{fullWidth:!0,size:"small",children:(0,S.jsxs)(a.A,{value:F.surveySource,onChange:e=>q("surveySource",e.target.value),sx:{backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px","& .MuiOutlinedInput-root":{fontSize:"0.875rem",borderRadius:"8px"},"&:hover":{borderColor:"#9ca3af"},"&.Mui-focused":{borderColor:"#3b82f6"}},displayEmpty:!0,children:[(0,S.jsx)(l.A,{value:"",children:"All Sources"}),U.surveySources.map(e=>(0,S.jsx)(l.A,{value:e,children:e},e))]})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Type"}),(0,S.jsx)(i.A,{fullWidth:!0,size:"small",children:(0,S.jsxs)(a.A,{value:F.providerType,onChange:e=>q("providerType",e.target.value),sx:{backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px","& .MuiOutlinedInput-root":{fontSize:"0.875rem",borderRadius:"8px"},"&:hover":{borderColor:"#9ca3af"},"&.Mui-focused":{borderColor:"#3b82f6"}},displayEmpty:!0,children:[(0,S.jsx)(l.A,{value:"",children:"All Types"}),U.providerTypes.map(e=>(0,S.jsx)(l.A,{value:e,children:e},e))]})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),(0,S.jsx)(i.A,{fullWidth:!0,size:"small",children:(0,S.jsxs)(a.A,{value:F.region,onChange:e=>q("region",e.target.value),sx:{backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"8px","& .MuiOutlinedInput-root":{fontSize:"0.875rem",borderRadius:"8px"},"&:hover":{borderColor:"#9ca3af"},"&.Mui-focused":{borderColor:"#3b82f6"}},displayEmpty:!0,children:[(0,S.jsx)(l.A,{value:"",children:"All Regions"}),U.regions.map(e=>(0,S.jsx)(l.A,{value:e,children:e},e))]})})]})]}),(F.specialty||F.providerType||F.region||F.surveySource)&&(0,S.jsx)("div",{className:"flex justify-end",children:(0,S.jsxs)("button",{onClick:()=>{O({specialty:"",providerType:"",region:"",surveySource:""})},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Clear all filters",children:[(0,S.jsxs)("div",{className:"relative w-4 h-4 mr-2",children:[(0,S.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,S.jsx)("path",{d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z"})}),(0,S.jsx)("svg",{className:"absolute -top-1 -right-1 w-3 h-3 text-red-500 bg-white rounded-full",fill:"currentColor",viewBox:"0 0 20 20",children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),"Clear Filters"]})})]}),(0,S.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,S.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,S.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Survey Analytics Data"})}),0===G.length?(0,S.jsxs)("div",{className:"text-center py-12",children:[(0,S.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,S.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,S.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),(0,S.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters to see results"})]}):(0,S.jsx)("div",{className:"overflow-x-auto",children:(0,S.jsx)(p.A,{component:u.A,sx:{overflowX:"auto",overflowY:"hidden",border:"1px solid #e5e7eb",borderRadius:"12px","& .MuiTable-root":{minWidth:"100%"},"&::-webkit-scrollbar":{height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#cbd5e1",borderRadius:"4px","&:hover":{background:"#94a3b8"}}},children:(0,S.jsxs)(d.A,{size:"small",sx:{width:"100%"},children:[(0,S.jsxs)(g.A,{children:[(0,S.jsxs)(m.A,{children:[(0,S.jsx)(f.A,{colSpan:5,sx:{backgroundColor:"#f8fafc",fontWeight:"bold",borderBottom:"2px solid #e2e8f0"},children:"Survey Information"}),(0,S.jsx)(f.A,{colSpan:4,align:"center",sx:{backgroundColor:"#dbeafe",fontWeight:"bold",borderLeft:"2px solid #e2e8f0",borderBottom:"2px solid #e2e8f0"},children:"Total Cash Compensation (TCC)"}),(0,S.jsx)(f.A,{colSpan:4,align:"center",sx:{backgroundColor:"#dcfce7",fontWeight:"bold",borderLeft:"2px solid #e2e8f0",borderBottom:"2px solid #e2e8f0"},children:"Work RVUs (wRVU)"}),(0,S.jsx)(f.A,{colSpan:4,align:"center",sx:{backgroundColor:"#fef3c7",fontWeight:"bold",borderLeft:"2px solid #e2e8f0",borderBottom:"2px solid #e2e8f0"},children:"Conversion Factor (CF)"})]}),(0,S.jsxs)(m.A,{children:[(0,S.jsx)(f.A,{sx:{backgroundColor:"#f8fafc",fontWeight:"bold",fontSize:"0.875rem"},children:"Survey Source"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#f8fafc",fontWeight:"bold",fontSize:"0.875rem"},children:"Survey Specialty"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#f8fafc",fontWeight:"bold",fontSize:"0.875rem"},children:"Region"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#f8fafc",fontWeight:"bold",fontSize:"0.875rem",textAlign:"right"},children:"# Orgs"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#f8fafc",fontWeight:"bold",fontSize:"0.875rem",textAlign:"right"},children:"# Incumbents"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dbeafe",borderLeft:"2px solid #e2e8f0",textAlign:"right",fontSize:"0.875rem"},children:"P25"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dbeafe",textAlign:"right",fontSize:"0.875rem"},children:"P50"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dbeafe",textAlign:"right",fontSize:"0.875rem"},children:"P75"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dbeafe",textAlign:"right",fontSize:"0.875rem"},children:"P90"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dcfce7",borderLeft:"2px solid #e2e8f0",textAlign:"right",fontSize:"0.875rem"},children:"P25"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dcfce7",textAlign:"right",fontSize:"0.875rem"},children:"P50"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dcfce7",textAlign:"right",fontSize:"0.875rem"},children:"P75"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#dcfce7",textAlign:"right",fontSize:"0.875rem"},children:"P90"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#fef3c7",borderLeft:"2px solid #e2e8f0",textAlign:"right",fontSize:"0.875rem"},children:"P25"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#fef3c7",textAlign:"right",fontSize:"0.875rem"},children:"P50"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#fef3c7",textAlign:"right",fontSize:"0.875rem"},children:"P75"}),(0,S.jsx)(f.A,{sx:{backgroundColor:"#fef3c7",textAlign:"right",fontSize:"0.875rem"},children:"P90"})]})]}),(0,S.jsx)(h.A,{children:Object.entries((H=G,H.reduce((e,r)=>(e[r.standardizedName]||(e[r.standardizedName]=[]),e[r.standardizedName].push(r),e),{}))).map(e=>{let[r,o]=e;return(0,S.jsxs)(n.Fragment,{children:[o.map((e,o)=>(0,S.jsxs)(m.A,{sx:{"&:nth-of-type(odd)":{backgroundColor:"#f8fafc"},"&:hover":{backgroundColor:"#f1f5f9"},transition:"background-color 0.2s"},children:[(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:e.surveySource}),(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:e.surveySpecialty}),(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:e.geographicRegion||"N/A"}),(0,S.jsx)(f.A,{align:"right",sx:{fontSize:"0.875rem"},children:e.n_orgs.toLocaleString()}),(0,S.jsx)(f.A,{align:"right",sx:{fontSize:"0.875rem"},children:e.n_incumbents.toLocaleString()}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:j(e.tcc_p25)}),(0,S.jsx)(f.A,{align:"right",children:j(e.tcc_p50)}),(0,S.jsx)(f.A,{align:"right",children:j(e.tcc_p75)}),(0,S.jsx)(f.A,{align:"right",children:j(e.tcc_p90)}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:C(e.wrvu_p25)}),(0,S.jsx)(f.A,{align:"right",children:C(e.wrvu_p50)}),(0,S.jsx)(f.A,{align:"right",children:C(e.wrvu_p75)}),(0,S.jsx)(f.A,{align:"right",children:C(e.wrvu_p90)}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:j(e.cf_p25,2)}),(0,S.jsx)(f.A,{align:"right",children:j(e.cf_p50,2)}),(0,S.jsx)(f.A,{align:"right",children:j(e.cf_p75,2)}),(0,S.jsx)(f.A,{align:"right",children:j(e.cf_p90,2)})]},"".concat(r,"-").concat(o))),(()=>{const{simple:e,weighted:r}=(e=>{const r=e.reduce((e,r)=>e+r.n_incumbents,0);return{simple:{standardizedName:"Simple Avg",surveySource:"",surveySpecialty:"",geographicRegion:"",n_orgs:0,n_incumbents:0,tcc_p25:z(e.map(e=>e.tcc_p25)),tcc_p50:z(e.map(e=>e.tcc_p50)),tcc_p75:z(e.map(e=>e.tcc_p75)),tcc_p90:z(e.map(e=>e.tcc_p90)),wrvu_p25:z(e.map(e=>e.wrvu_p25)),wrvu_p50:z(e.map(e=>e.wrvu_p50)),wrvu_p75:z(e.map(e=>e.wrvu_p75)),wrvu_p90:z(e.map(e=>e.wrvu_p90)),cf_p25:z(e.map(e=>e.cf_p25)),cf_p50:z(e.map(e=>e.cf_p50)),cf_p75:z(e.map(e=>e.cf_p75)),cf_p90:z(e.map(e=>e.cf_p90))},weighted:{standardizedName:"Weighted Avg",surveySource:"",surveySpecialty:"",geographicRegion:"",n_orgs:0,n_incumbents:r,tcc_p25:N(e.map(e=>e.tcc_p25),e.map(e=>e.n_incumbents)),tcc_p50:N(e.map(e=>e.tcc_p50),e.map(e=>e.n_incumbents)),tcc_p75:N(e.map(e=>e.tcc_p75),e.map(e=>e.n_incumbents)),tcc_p90:N(e.map(e=>e.tcc_p90),e.map(e=>e.n_incumbents)),wrvu_p25:N(e.map(e=>e.wrvu_p25),e.map(e=>e.n_incumbents)),wrvu_p50:N(e.map(e=>e.wrvu_p50),e.map(e=>e.n_incumbents)),wrvu_p75:N(e.map(e=>e.wrvu_p75),e.map(e=>e.n_incumbents)),wrvu_p90:N(e.map(e=>e.wrvu_p90),e.map(e=>e.n_incumbents)),cf_p25:N(e.map(e=>e.cf_p25),e.map(e=>e.n_incumbents)),cf_p50:N(e.map(e=>e.cf_p50),e.map(e=>e.n_incumbents)),cf_p75:N(e.map(e=>e.cf_p75),e.map(e=>e.n_incumbents)),cf_p90:N(e.map(e=>e.cf_p90),e.map(e=>e.n_incumbents))}}})(o);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(m.A,{sx:{backgroundColor:"#f1f5f9",borderTop:"2px solid #e2e8f0"},children:[(0,S.jsx)(f.A,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Simple Average"}),(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:"-"}),(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:"-"}),(0,S.jsx)(f.A,{align:"right",sx:{fontSize:"0.875rem"},children:e.n_orgs}),(0,S.jsx)(f.A,{align:"right",sx:{fontSize:"0.875rem"},children:e.n_incumbents}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:j(e.tcc_p25)}),(0,S.jsx)(f.A,{align:"right",children:j(e.tcc_p50)}),(0,S.jsx)(f.A,{align:"right",children:j(e.tcc_p75)}),(0,S.jsx)(f.A,{align:"right",children:j(e.tcc_p90)}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:C(e.wrvu_p25)}),(0,S.jsx)(f.A,{align:"right",children:C(e.wrvu_p50)}),(0,S.jsx)(f.A,{align:"right",children:C(e.wrvu_p75)}),(0,S.jsx)(f.A,{align:"right",children:C(e.wrvu_p90)}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:j(e.cf_p25,2)}),(0,S.jsx)(f.A,{align:"right",children:j(e.cf_p50,2)}),(0,S.jsx)(f.A,{align:"right",children:j(e.cf_p75,2)}),(0,S.jsx)(f.A,{align:"right",children:j(e.cf_p90,2)})]}),(0,S.jsxs)(m.A,{sx:{backgroundColor:"#dbeafe",borderBottom:"2px solid #e2e8f0"},children:[(0,S.jsx)(f.A,{sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Weighted Average"}),(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:"-"}),(0,S.jsx)(f.A,{sx:{fontSize:"0.875rem"},children:"-"}),(0,S.jsx)(f.A,{align:"right",sx:{fontSize:"0.875rem"},children:r.n_orgs}),(0,S.jsx)(f.A,{align:"right",sx:{fontSize:"0.875rem"},children:r.n_incumbents}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:j(r.tcc_p25)}),(0,S.jsx)(f.A,{align:"right",children:j(r.tcc_p50)}),(0,S.jsx)(f.A,{align:"right",children:j(r.tcc_p75)}),(0,S.jsx)(f.A,{align:"right",children:j(r.tcc_p90)}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:C(r.wrvu_p25)}),(0,S.jsx)(f.A,{align:"right",children:C(r.wrvu_p50)}),(0,S.jsx)(f.A,{align:"right",children:C(r.wrvu_p75)}),(0,S.jsx)(f.A,{align:"right",children:C(r.wrvu_p90)}),(0,S.jsx)(f.A,{sx:{borderLeft:"2px solid #e2e8f0"},align:"right",children:j(r.cf_p25,2)}),(0,S.jsx)(f.A,{align:"right",children:j(r.cf_p50,2)}),(0,S.jsx)(f.A,{align:"right",children:j(r.cf_p75,2)}),(0,S.jsx)(f.A,{align:"right",children:j(r.cf_p90,2)})]})]})})()]},r)})})]})})})]})]});var H}},4614:(e,r,o)=>{o.d(r,{Ay:()=>i,az:()=>s});o(5043);var t=o(8557),n=o(579);const c=e=>{let{message:r="Loading...",size:o="md",variant:c="primary",fullScreen:s=!1,overlay:i=!1,className:a}=e;const l={xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[o],p={default:"text-gray-600",primary:"text-indigo-600",secondary:"text-gray-500",success:"text-emerald-600",warning:"text-amber-600",error:"text-red-600"}[c],u=()=>(0,n.jsxs)("svg",{className:(0,t.cn)("animate-spin",l,p,"inline-block"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d=(0,n.jsxs)("div",{className:(0,t.cn)("flex flex-col items-center justify-center gap-3",s?"min-h-screen":"min-h-[200px]",a),children:[(0,n.jsx)(u,{}),r&&(0,n.jsx)("p",{className:(0,t.cn)("text-sm font-medium text-center","default"===c?"text-gray-600":"text-gray-700"),children:r})]});return i?(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-white/90 backdrop-blur-sm z-50",children:d}):d},s=e=>{let{size:r="md"}=e;return(0,n.jsxs)("svg",{className:(0,t.cn)("animate-spin text-current",{sm:"w-4 h-4",md:"w-5 h-5"}[r]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},i=c}}]);
//# sourceMappingURL=959.3c857d1d.chunk.js.map