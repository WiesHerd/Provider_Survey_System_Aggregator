{"version":3,"file":"static/js/18.7b9cead2.chunk.js","mappings":"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","sources":["shared/utils/calculations.ts","features/fmv/utils/fmvCalculations.ts","features/fmv/hooks/useFMVData.ts","features/fmv/components/FMVFilters.tsx","features/fmv/components/CompareTypeSelector.tsx","features/fmv/components/TCCItemization.tsx","features/fmv/components/WRVUsInput.tsx","features/fmv/components/CFInput.tsx","features/fmv/components/ResultsPanel.tsx","components/FairMarketValuePrintable.tsx","features/fmv/components/FMVCalculator.tsx","components/FairMarketValue.tsx"],"sourcesContent":["/**\r\n * Shared calculation utilities for the Survey Aggregator application\r\n * These functions are used across multiple features and should be centralized\r\n */\r\n\r\n/**\r\n * Calculates the percentile value from an array of numbers\r\n * \r\n * @param numbers - Array of numbers to calculate percentile from\r\n * @param percentile - Percentile to calculate (0-100)\r\n * @returns The percentile value\r\n * \r\n * @example\r\n * ```typescript\r\n * const p50 = calculatePercentile([1, 2, 3, 4, 5], 50); // Returns 3\r\n * ```\r\n */\r\nexport const calculatePercentile = (numbers: number[], percentile: number): number => {\r\n  if (numbers.length === 0) return 0;\r\n  const sortedNumbers = [...numbers].sort((a, b) => a - b);\r\n  const index = Math.floor((percentile / 100) * sortedNumbers.length);\r\n  return sortedNumbers[index] || 0;\r\n};\r\n\r\n/**\r\n * Calculates the weighted average of values\r\n * \r\n * @param values - Array of values to average\r\n * @param weights - Array of weights corresponding to each value\r\n * @returns The weighted average\r\n * \r\n * @example\r\n * ```typescript\r\n * const avg = calculateWeightedAverage([1, 2, 3], [0.5, 0.3, 0.2]); // Returns weighted average\r\n * ```\r\n */\r\nexport const calculateWeightedAverage = (values: number[], weights: number[]): number => {\r\n  if (values.length === 0 || values.length !== weights.length) return 0;\r\n  const sum = weights.reduce((acc, weight, index) => acc + weight * values[index], 0);\r\n  const weightSum = weights.reduce((acc, weight) => acc + weight, 0);\r\n  return weightSum === 0 ? 0 : sum / weightSum;\r\n};\r\n\r\n/**\r\n * Calculates the simple average of values\r\n * \r\n * @param values - Array of numbers to average\r\n * @returns The average value\r\n * \r\n * @example\r\n * ```typescript\r\n * const avg = calculateAverage([1, 2, 3, 4, 5]); // Returns 3\r\n * ```\r\n */\r\nexport const calculateAverage = (values: number[]): number => {\r\n  if (values.length === 0) return 0;\r\n  return values.reduce((acc, val) => acc + val, 0) / values.length;\r\n};\r\n\r\n/**\r\n * Calculates the median value from an array of numbers\r\n * \r\n * @param numbers - Array of numbers to calculate median from\r\n * @returns The median value\r\n * \r\n * @example\r\n * ```typescript\r\n * const median = calculateMedian([1, 2, 3, 4, 5]); // Returns 3\r\n * ```\r\n */\r\nexport const calculateMedian = (numbers: number[]): number => {\r\n  if (numbers.length === 0) return 0;\r\n  const sortedNumbers = [...numbers].sort((a, b) => a - b);\r\n  const middle = Math.floor(sortedNumbers.length / 2);\r\n  \r\n  if (sortedNumbers.length % 2 === 0) {\r\n    return (sortedNumbers[middle - 1] + sortedNumbers[middle]) / 2;\r\n  }\r\n  \r\n  return sortedNumbers[middle];\r\n};\r\n\r\n/**\r\n * Calculates the standard deviation of values\r\n * \r\n * @param values - Array of numbers to calculate standard deviation from\r\n * @returns The standard deviation\r\n * \r\n * @example\r\n * ```typescript\r\n * const stdDev = calculateStandardDeviation([1, 2, 3, 4, 5]); // Returns standard deviation\r\n * ```\r\n */\r\nexport const calculateStandardDeviation = (values: number[]): number => {\r\n  if (values.length === 0) return 0;\r\n  \r\n  const mean = calculateAverage(values);\r\n  const squaredDifferences = values.map(value => Math.pow(value - mean, 2));\r\n  const variance = calculateAverage(squaredDifferences);\r\n  \r\n  return Math.sqrt(variance);\r\n};\r\n\r\n/**\r\n * Calculates the coefficient of variation (CV) - standard deviation / mean\r\n * \r\n * @param values - Array of numbers to calculate CV from\r\n * @returns The coefficient of variation as a percentage\r\n * \r\n * @example\r\n * ```typescript\r\n * const cv = calculateCoefficientOfVariation([1, 2, 3, 4, 5]); // Returns CV as percentage\r\n * ```\r\n */\r\nexport const calculateCoefficientOfVariation = (values: number[]): number => {\r\n  if (values.length === 0) return 0;\r\n  \r\n  const mean = calculateAverage(values);\r\n  if (mean === 0) return 0;\r\n  \r\n  const stdDev = calculateStandardDeviation(values);\r\n  return (stdDev / mean) * 100;\r\n};\r\n","import { \r\n  FMVFilters, \r\n  MarketData, \r\n  UserPercentiles, \r\n  NormalizedSurveyRow, \r\n  CompensationComponent,\r\n  FMVCalculationResult,\r\n  FMVCalculationParams,\r\n  FMVValidationResult,\r\n  CompareType\r\n} from '../types/fmv';\r\nimport { calculatePercentile } from '../../../shared/utils/calculations';\r\n\r\n/**\r\n * Normalizes a survey row for FMV calculations\r\n * \r\n * @param row - Raw survey data row\r\n * @param surveyMeta - Survey metadata\r\n * @param columnMappings - Column mapping configuration\r\n * @returns Normalized survey row\r\n */\r\nexport const normalizeSurveyRow = (\r\n  row: any, \r\n  surveyMeta: any, \r\n  columnMappings: any = {}\r\n): NormalizedSurveyRow => {\r\n  return {\r\n    id: row.id || '',\r\n    providerType: row[columnMappings.providerType || 'providerType'] || row.providerType || row.provider_type || '',\r\n    geographicRegion: row[columnMappings.geographicRegion || 'geographicRegion'] || row.geographicRegion || row.geographic_region || '',\r\n    specialty: row[columnMappings.specialty || 'specialty'] || row.specialty || row.normalizedSpecialty || '',\r\n    normalizedSpecialty: row.normalizedSpecialty || '',\r\n    surveySource: surveyMeta?.surveyType || '',\r\n    year: String(row[columnMappings.year || 'year'] || row.year || surveyMeta?.surveyYear || surveyMeta?.metadata?.surveyYear || ''),\r\n    tcc_p25: Number(row[columnMappings.tcc_p25 || 'tcc_p25']) || 0,\r\n    tcc_p50: Number(row[columnMappings.tcc_p50 || 'tcc_p50']) || 0,\r\n    tcc_p75: Number(row[columnMappings.tcc_p75 || 'tcc_p75']) || 0,\r\n    tcc_p90: Number(row[columnMappings.tcc_p90 || 'tcc_p90']) || 0,\r\n    wrvu_p25: Number(row[columnMappings.wrvu_p25 || 'wrvu_p25']) || 0,\r\n    wrvu_p50: Number(row[columnMappings.wrvu_p50 || 'wrvu_p50']) || 0,\r\n    wrvu_p75: Number(row[columnMappings.wrvu_p75 || 'wrvu_p75']) || 0,\r\n    wrvu_p90: Number(row[columnMappings.wrvu_p90 || 'wrvu_p90']) || 0,\r\n    cf_p25: Number(row[columnMappings.cf_p25 || 'cf_p25']) || 0,\r\n    cf_p50: Number(row[columnMappings.cf_p50 || 'cf_p50']) || 0,\r\n    cf_p75: Number(row[columnMappings.cf_p75 || 'cf_p75']) || 0,\r\n    cf_p90: Number(row[columnMappings.cf_p90 || 'cf_p90']) || 0,\r\n  };\r\n};\r\n\r\n/**\r\n * Normalizes strings for comparison\r\n * \r\n * @param str - String to normalize\r\n * @returns Normalized string\r\n */\r\nexport const normalizeString = (str: string): string => {\r\n  return (str || '').toLowerCase().replace(/\\s+/g, ' ').trim();\r\n};\r\n\r\n/**\r\n * Applies filters to survey data\r\n * \r\n * @param rows - Array of normalized survey rows\r\n * @param filters - FMV filters to apply\r\n * @param mappedSpecialties - Array of mapped specialty names\r\n * @returns Filtered rows\r\n */\r\nexport const applyFMVFilters = (\r\n  rows: NormalizedSurveyRow[],\r\n  filters: FMVFilters,\r\n  mappedSpecialties: string[] = []\r\n): NormalizedSurveyRow[] => {\r\n  let filteredRows = rows;\r\n\r\n  if (filters.specialty) {\r\n    const specialtyFilters = mappedSpecialties.length > 0 \r\n      ? mappedSpecialties \r\n      : [normalizeString(filters.specialty)];\r\n    \r\n    filteredRows = filteredRows.filter(row => \r\n      specialtyFilters.includes(normalizeString(row.specialty))\r\n    );\r\n  }\r\n\r\n  if (filters.providerType) {\r\n    filteredRows = filteredRows.filter(row => \r\n      normalizeString(row.providerType) === normalizeString(filters.providerType)\r\n    );\r\n  }\r\n\r\n  if (filters.region) {\r\n    filteredRows = filteredRows.filter(row => \r\n      normalizeString(row.geographicRegion) === normalizeString(filters.region)\r\n    );\r\n  }\r\n\r\n  if (filters.surveySource) {\r\n    filteredRows = filteredRows.filter(row => \r\n      normalizeString(row.surveySource) === normalizeString(filters.surveySource)\r\n    );\r\n  }\r\n\r\n  if (filters.year) {\r\n    filteredRows = filteredRows.filter(row => \r\n      String(row.year) === String(filters.year)\r\n    );\r\n  }\r\n\r\n  return filteredRows;\r\n};\r\n\r\n/**\r\n * Calculates market data percentiles from filtered rows\r\n * \r\n * @param filteredRows - Filtered survey rows\r\n * @returns Market data with percentiles\r\n */\r\nexport const calculateMarketData = (filteredRows: NormalizedSurveyRow[]): MarketData => {\r\n  const tccs = filteredRows.flatMap(row => \r\n    [row.tcc_p25, row.tcc_p50, row.tcc_p75, row.tcc_p90].filter(Boolean)\r\n  );\r\n  const wrvus = filteredRows.flatMap(row => \r\n    [row.wrvu_p25, row.wrvu_p50, row.wrvu_p75, row.wrvu_p90].filter(Boolean)\r\n  );\r\n  const cfs = filteredRows.flatMap(row => \r\n    [row.cf_p25, row.cf_p50, row.cf_p75, row.cf_p90].filter(Boolean)\r\n  );\r\n\r\n  return {\r\n    tcc: {\r\n      p25: calculatePercentile(tccs, 25),\r\n      p50: calculatePercentile(tccs, 50),\r\n      p75: calculatePercentile(tccs, 75),\r\n      p90: calculatePercentile(tccs, 90),\r\n    },\r\n    wrvu: {\r\n      p25: calculatePercentile(wrvus, 25),\r\n      p50: calculatePercentile(wrvus, 50),\r\n      p75: calculatePercentile(wrvus, 75),\r\n      p90: calculatePercentile(wrvus, 90),\r\n    },\r\n    cf: {\r\n      p25: calculatePercentile(cfs, 25),\r\n      p50: calculatePercentile(cfs, 50),\r\n      p75: calculatePercentile(cfs, 75),\r\n      p90: calculatePercentile(cfs, 90),\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * Calculates percentile rank using linear interpolation\r\n * \r\n * @param percentileObj - Object containing percentile values\r\n * @param value - Value to find percentile for\r\n * @returns Percentile rank (0-100) or null if invalid\r\n */\r\nexport const getPercentileRank = (\r\n  percentileObj: any, \r\n  value: number\r\n): number | null => {\r\n  if (!percentileObj || value === null || value === undefined || isNaN(value)) {\r\n    return null;\r\n  }\r\n\r\n  const points = [\r\n    { p: 0, v: percentileObj.p0 ?? 0 },\r\n    { p: 25, v: percentileObj.p25 },\r\n    { p: 50, v: percentileObj.p50 },\r\n    { p: 75, v: percentileObj.p75 },\r\n    { p: 90, v: percentileObj.p90 },\r\n    { p: 100, v: percentileObj.p100 ?? percentileObj.p90 + (percentileObj.p90 - percentileObj.p75) },\r\n  ];\r\n\r\n  // Below 25th percentile\r\n  if (value < points[1].v) {\r\n    const { p: p0, v: v0 } = points[0];\r\n    const { p: p1, v: v1 } = points[1];\r\n    if (v1 === v0) return p0;\r\n    return p0 + ((value - v0) / (v1 - v0)) * (p1 - p0);\r\n  }\r\n\r\n  // Above 90th percentile\r\n  if (value > points[4].v) {\r\n    const { p: p1, v: v1 } = points[4];\r\n    const { p: p2, v: v2 } = points[5];\r\n    if (v2 === v1) return p1;\r\n    return p1 + ((value - v1) / (v2 - v1)) * (p2 - p1);\r\n  }\r\n\r\n  // Between 25th and 90th\r\n  for (let i = 1; i < points.length - 2; i++) {\r\n    if (value >= points[i].v && value < points[i + 1].v) {\r\n      const { p: p1, v: v1 } = points[i];\r\n      const { p: p2, v: v2 } = points[i + 1];\r\n      if (v2 === v1) return p1;\r\n      return p1 + ((value - v1) / (v2 - v1)) * (p2 - p1);\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n/**\r\n * Calculates user percentiles for all metrics\r\n * \r\n * @param marketData - Market data with percentiles\r\n * @param tccValue - User's TCC value (FTE-adjusted)\r\n * @param wrvuValue - User's wRVU value (FTE-adjusted)\r\n * @param cfValue - User's conversion factor value\r\n * @returns User percentile rankings\r\n */\r\nexport const calculateUserPercentiles = (\r\n  marketData: MarketData,\r\n  tccValue: number,\r\n  wrvuValue: number,\r\n  cfValue: number\r\n): UserPercentiles => {\r\n  return {\r\n    tcc: getPercentileRank(marketData?.tcc, tccValue),\r\n    wrvu: getPercentileRank(marketData?.wrvu, wrvuValue),\r\n    cf: getPercentileRank(marketData?.cf, cfValue),\r\n  };\r\n};\r\n\r\n/**\r\n * Calculates total TCC from compensation components\r\n * \r\n * @param components - Array of compensation components\r\n * @returns Total TCC amount\r\n */\r\nexport const calculateTotalTCC = (components: CompensationComponent[]): number => {\r\n  return components.reduce((sum, component) => sum + Number(component.amount || 0), 0);\r\n};\r\n\r\n/**\r\n * Applies FTE adjustment to a value\r\n * \r\n * @param value - Raw value\r\n * @param fte - FTE value\r\n * @returns FTE-adjusted value\r\n */\r\nexport const applyFTEAdjustment = (value: number, fte: number): number => {\r\n  return fte ? value / fte : value;\r\n};\r\n\r\n/**\r\n * Validates FMV calculation parameters\r\n * \r\n * @param params - FMV calculation parameters\r\n * @returns Validation result\r\n */\r\nexport const validateFMVCalculation = (params: FMVCalculationParams): FMVValidationResult => {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  // Validate filters\r\n  if (!params.filters.specialty && !params.filters.providerType && !params.filters.region) {\r\n    warnings.push('No filters applied - results may include broad market data');\r\n  }\r\n\r\n  if (params.filters.fte <= 0 || params.filters.fte > 2) {\r\n    errors.push('FTE must be between 0 and 2');\r\n  }\r\n\r\n  // Validate values based on comparison type\r\n  switch (params.compareType) {\r\n    case 'TCC':\r\n      if (params.tcc <= 0) {\r\n        errors.push('TCC value must be greater than 0');\r\n      }\r\n      break;\r\n    case 'wRVUs':\r\n      if (params.wrvus <= 0) {\r\n        errors.push('wRVU value must be greater than 0');\r\n      }\r\n      break;\r\n    case 'CFs':\r\n      if (params.cf <= 0) {\r\n        errors.push('Conversion factor must be greater than 0');\r\n      }\r\n      break;\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n};\r\n\r\n/**\r\n * Formats value for display based on comparison type\r\n * \r\n * @param value - Value to format\r\n * @param compareType - Type of comparison\r\n * @returns Formatted value string\r\n */\r\nexport const formatFMVValue = (value: number, compareType: CompareType): string => {\r\n  if (compareType === 'wRVUs') {\r\n    return value.toLocaleString(undefined, { \r\n      minimumFractionDigits: 2, \r\n      maximumFractionDigits: 2 \r\n    });\r\n  }\r\n  \r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(value);\r\n};\r\n\r\n/**\r\n * Extracts unique values from survey data for filters\r\n * \r\n * @param rows - Array of normalized survey rows\r\n * @returns Object with unique values for each filter category\r\n */\r\nexport const extractUniqueFilterValues = (rows: NormalizedSurveyRow[]) => {\r\n  const specialties = [...new Set(rows.map(row => row.specialty))].sort();\r\n  const providerTypes = [...new Set(rows.map(row => row.providerType))].sort();\r\n  const regions = [...new Set(rows.map(row => row.geographicRegion))].sort();\r\n  const surveySources = [...new Set(rows.map(row => row.surveySource))].sort();\r\n  const years = [...new Set(rows.map(row => row.year))].sort((a, b) => Number(b) - Number(a));\r\n\r\n  return {\r\n    specialties,\r\n    providerTypes,\r\n    regions,\r\n    surveySources,\r\n    years\r\n  };\r\n};\r\n","import { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { LocalStorageService } from '../../../services/StorageService';\r\nimport { SpecialtyMappingService } from '../../../services/SpecialtyMappingService';\r\nimport { \r\n  FMVFilters, \r\n  CompensationComponent, \r\n  CompareType, \r\n  MarketData, \r\n  UserPercentiles, \r\n  UniqueFilterValues,\r\n  NormalizedSurveyRow,\r\n  FMVCalculationState\r\n} from '../types/fmv';\r\nimport { \r\n  normalizeSurveyRow, \r\n  applyFMVFilters, \r\n  calculateMarketData, \r\n  calculateUserPercentiles,\r\n  calculateTotalTCC,\r\n  applyFTEAdjustment,\r\n  extractUniqueFilterValues,\r\n  normalizeString\r\n} from '../utils/fmvCalculations';\r\n\r\n/**\r\n * Custom hook for managing FMV calculator data and state\r\n * \r\n * @returns Object containing FMV state and actions\r\n */\r\nexport const useFMVData = () => {\r\n  // Core state\r\n  const [filters, setFilters] = useState<FMVFilters>({\r\n    specialty: '',\r\n    providerType: '',\r\n    region: '',\r\n    surveySource: '',\r\n    year: '',\r\n    fte: 1.0,\r\n  });\r\n\r\n  const [compComponents, setCompComponents] = useState<CompensationComponent[]>([\r\n    { type: 'Base Salary', amount: '', notes: '' }\r\n  ]);\r\n\r\n  const [wrvus, setWRVUs] = useState<string>('');\r\n  const [cf, setCF] = useState<string>('');\r\n  const [compareType, setCompareType] = useState<CompareType>('TCC');\r\n\r\n  // Market data and calculations\r\n  const [marketData, setMarketData] = useState<MarketData | null>(null);\r\n  const [percentiles, setPercentiles] = useState<UserPercentiles>({ \r\n    tcc: null, \r\n    wrvu: null, \r\n    cf: null \r\n  });\r\n\r\n  // UI state\r\n  const [uniqueValues, setUniqueValues] = useState<UniqueFilterValues>({\r\n    specialties: [],\r\n    providerTypes: [],\r\n    regions: [],\r\n    surveySources: [],\r\n    years: []\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Memoized calculations\r\n  const tcc = useMemo(() => calculateTotalTCC(compComponents), [compComponents]);\r\n  const tccFTEAdjusted = useMemo(() => applyFTEAdjustment(tcc, filters.fte), [tcc, filters.fte]);\r\n  const wrvusFTEAdjusted = useMemo(() => applyFTEAdjustment(Number(wrvus), filters.fte), [wrvus, filters.fte]);\r\n\r\n  /**\r\n   * Fetches unique filter values from survey data and mappings\r\n   */\r\n  const fetchUniqueValues = useCallback(async () => {\r\n    try {\r\n      const storageService = new LocalStorageService();\r\n      const mappingService = new SpecialtyMappingService(storageService);\r\n      const allMappings = await mappingService.getAllMappings();\r\n      const uploadedSurveys = await storageService.listSurveys();\r\n      \r\n      const yearsSet = new Set<string>();\r\n      const values = {\r\n        specialties: new Set<string>(),\r\n        providerTypes: new Set<string>(),\r\n        regions: new Set<string>(),\r\n        surveySources: new Set<string>()\r\n      };\r\n\r\n      // Add mapped specialties\r\n      allMappings.forEach(mapping => {\r\n        if (mapping.standardizedName) {\r\n          values.specialties.add(mapping.standardizedName);\r\n        }\r\n      });\r\n\r\n      let allRows: NormalizedSurveyRow[] = [];\r\n\r\n      // Process uploaded surveys\r\n      for (const survey of uploadedSurveys) {\r\n        let year = '';\r\n        if (survey.metadata?.columnMappings?.surveyYear) {\r\n          year = String(survey.metadata.columnMappings.surveyYear);\r\n        } else if (survey.metadata?.surveyYear) {\r\n          year = String(survey.metadata.surveyYear);\r\n        }\r\n        if (year) yearsSet.add(year);\r\n\r\n        // Add metadata values\r\n        if (survey.metadata.uniqueProviderTypes) {\r\n          survey.metadata.uniqueProviderTypes.forEach((pt: string) => values.providerTypes.add(pt));\r\n        }\r\n        if (survey.metadata.uniqueRegions) {\r\n          survey.metadata.uniqueRegions.forEach((r: string) => values.regions.add(r));\r\n        }\r\n        if (survey.metadata.surveyType) values.surveySources.add(survey.metadata.surveyType);\r\n\r\n        // Process survey data\r\n        const data = await storageService.getSurveyData(survey.id);\r\n        if (data?.rows) {\r\n          const cm = survey.metadata?.columnMappings || {};\r\n          const normalizedRows = data.rows.map(row => normalizeSurveyRow(row, survey.metadata, cm));\r\n          \r\n          normalizedRows.forEach((row: NormalizedSurveyRow) => {\r\n            if (row.providerType) values.providerTypes.add(row.providerType);\r\n            if (row.geographicRegion) values.regions.add(row.geographicRegion);\r\n            if (row.specialty) values.specialties.add(row.specialty);\r\n            if (row.year) yearsSet.add(String(row.year));\r\n          });\r\n          \r\n          allRows = allRows.concat(normalizedRows);\r\n        }\r\n      }\r\n\r\n      setUniqueValues({\r\n        specialties: Array.from(values.specialties).sort(),\r\n        providerTypes: Array.from(values.providerTypes).sort(),\r\n        regions: Array.from(values.regions).sort(),\r\n        surveySources: Array.from(values.surveySources).sort(),\r\n        years: Array.from(yearsSet).sort((a, b) => Number(b) - Number(a))\r\n      });\r\n    } catch (err) {\r\n      console.error('Error fetching unique values:', err);\r\n      setError('Failed to load filter options');\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Fetches and calculates market data based on current filters\r\n   */\r\n  const fetchMarketData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const storageService = new LocalStorageService();\r\n      const mappingService = new SpecialtyMappingService(storageService);\r\n      const allMappings = await mappingService.getAllMappings();\r\n      const uploadedSurveys = await storageService.listSurveys();\r\n      \r\n      let allRows: NormalizedSurveyRow[] = [];\r\n\r\n      // Collect all survey data\r\n      for (const survey of uploadedSurveys) {\r\n        const data = await storageService.getSurveyData(survey.id);\r\n        if (data?.rows) {\r\n          const cm = survey.metadata?.columnMappings || {};\r\n          const normalizedRows = data.rows.map(row => normalizeSurveyRow(row, survey.metadata, cm));\r\n          allRows = allRows.concat(normalizedRows);\r\n        }\r\n      }\r\n\r\n      // Find mapped specialties for filtering\r\n      let mappedSpecialties: string[] = [];\r\n      if (filters.specialty) {\r\n        const mapping = allMappings.find(m => \r\n          normalizeString(m.standardizedName) === normalizeString(filters.specialty)\r\n        );\r\n        if (mapping) {\r\n          mappedSpecialties = mapping.sourceSpecialties.map(s => normalizeString(s.specialty));\r\n        } else {\r\n          mappedSpecialties = [normalizeString(filters.specialty)];\r\n        }\r\n      }\r\n\r\n      // Apply filters\r\n      const filteredRows = applyFMVFilters(allRows, filters, mappedSpecialties);\r\n\r\n      // Calculate market data\r\n      const calculatedMarketData = calculateMarketData(filteredRows);\r\n\r\n      // Calculate user percentiles\r\n      const calculatedPercentiles = calculateUserPercentiles(\r\n        calculatedMarketData,\r\n        tccFTEAdjusted,\r\n        wrvusFTEAdjusted,\r\n        Number(cf)\r\n      );\r\n\r\n      setMarketData(calculatedMarketData);\r\n      setPercentiles(calculatedPercentiles);\r\n    } catch (err) {\r\n      console.error('Error fetching market data:', err);\r\n      setError('Failed to load market data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, tccFTEAdjusted, wrvusFTEAdjusted, cf]);\r\n\r\n  /**\r\n   * Updates filters and triggers market data recalculation\r\n   */\r\n  const updateFilters = useCallback((newFilters: Partial<FMVFilters>) => {\r\n    setFilters(prev => ({ ...prev, ...newFilters }));\r\n  }, []);\r\n\r\n  /**\r\n   * Adds a new compensation component\r\n   */\r\n  const addCompComponent = useCallback(() => {\r\n    setCompComponents(prev => [...prev, { type: '', amount: '', notes: '' }]);\r\n  }, []);\r\n\r\n  /**\r\n   * Removes a compensation component by index\r\n   */\r\n  const removeCompComponent = useCallback((index: number) => {\r\n    setCompComponents(prev => prev.filter((_, i) => i !== index));\r\n  }, []);\r\n\r\n  /**\r\n   * Updates a compensation component by index and field\r\n   */\r\n  const updateCompComponent = useCallback((\r\n    index: number, \r\n    field: keyof CompensationComponent, \r\n    value: string\r\n  ) => {\r\n    setCompComponents(prev => {\r\n      const newComponents = [...prev];\r\n      newComponents[index] = { ...newComponents[index], [field]: value };\r\n      return newComponents;\r\n    });\r\n  }, []);\r\n\r\n  /**\r\n   * Resets all filters to default values\r\n   */\r\n  const resetFilters = useCallback(() => {\r\n    setFilters({\r\n      specialty: '',\r\n      providerType: '',\r\n      region: '',\r\n      surveySource: '',\r\n      year: '',\r\n      fte: 1.0,\r\n    });\r\n  }, []);\r\n\r\n  /**\r\n   * Clears all compensation components\r\n   */\r\n  const clearCompComponents = useCallback(() => {\r\n    setCompComponents([{ type: 'Base Salary', amount: '', notes: '' }]);\r\n  }, []);\r\n\r\n  /**\r\n   * Resets all input values\r\n   */\r\n  const resetAll = useCallback(() => {\r\n    resetFilters();\r\n    clearCompComponents();\r\n    setWRVUs('');\r\n    setCF('');\r\n    setCompareType('TCC');\r\n  }, [resetFilters, clearCompComponents]);\r\n\r\n  // Load unique values on mount\r\n  useEffect(() => {\r\n    fetchUniqueValues();\r\n  }, [fetchUniqueValues]);\r\n\r\n  // Recalculate market data when dependencies change\r\n  useEffect(() => {\r\n    fetchMarketData();\r\n  }, [fetchMarketData]);\r\n\r\n  return {\r\n    // State\r\n    filters,\r\n    compComponents,\r\n    wrvus,\r\n    cf,\r\n    compareType,\r\n    marketData,\r\n    percentiles,\r\n    uniqueValues,\r\n    loading,\r\n    error,\r\n    \r\n    // Calculated values\r\n    tcc,\r\n    tccFTEAdjusted,\r\n    wrvusFTEAdjusted,\r\n    \r\n    // Actions\r\n    updateFilters,\r\n    setCompComponents,\r\n    setWRVUs,\r\n    setCF,\r\n    setCompareType,\r\n    addCompComponent,\r\n    removeCompComponent,\r\n    updateCompComponent,\r\n    resetFilters,\r\n    clearCompComponents,\r\n    resetAll,\r\n    fetchMarketData,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { \r\n  Grid, \r\n  TextField, \r\n  MenuItem, \r\n  InputAdornment \r\n} from '@mui/material';\r\nimport { FMVFiltersProps } from '../types/fmv';\r\n\r\n/**\r\n * FMV Filters component for filtering market data\r\n * \r\n * @param filters - Current filter values\r\n * @param onFiltersChange - Callback when filters change\r\n * @param uniqueValues - Available unique values for each filter\r\n */\r\nexport const FMVFilters: React.FC<FMVFiltersProps> = ({ \r\n  filters, \r\n  onFiltersChange, \r\n  uniqueValues \r\n}) => {\r\n  const handleFilterChange = (field: keyof typeof filters, value: string | number) => {\r\n    onFiltersChange({ ...filters, [field]: value });\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={2} sx={{ mb: 3 }}>\r\n      <Grid item xs={12} md={4}>\r\n        <TextField\r\n          select\r\n          label=\"Specialty\"\r\n          value={filters.specialty}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            handleFilterChange('specialty', e.target.value)\r\n          }\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">All Specialties</MenuItem>\r\n          {uniqueValues.specialties.map(option => (\r\n            <MenuItem key={option} value={option}>{option}</MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <TextField\r\n          select\r\n          label=\"Provider Type\"\r\n          value={filters.providerType}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            handleFilterChange('providerType', e.target.value)\r\n          }\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">All Types</MenuItem>\r\n          {uniqueValues.providerTypes.map(option => (\r\n            <MenuItem key={option} value={option}>{option}</MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <TextField\r\n          select\r\n          label=\"Region\"\r\n          value={filters.region}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            handleFilterChange('region', e.target.value)\r\n          }\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">All Regions</MenuItem>\r\n          {uniqueValues.regions.map(option => (\r\n            <MenuItem key={option} value={option}>{option}</MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <TextField\r\n          select\r\n          label=\"Survey Source\"\r\n          value={filters.surveySource}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            handleFilterChange('surveySource', e.target.value)\r\n          }\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">All Sources</MenuItem>\r\n          {uniqueValues.surveySources.map(option => (\r\n            <MenuItem key={option} value={option}>{option}</MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <TextField\r\n          select\r\n          label=\"Year\"\r\n          value={filters.year}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            handleFilterChange('year', e.target.value)\r\n          }\r\n          fullWidth\r\n          size=\"small\"\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        >\r\n          <MenuItem value=\"\">All Years</MenuItem>\r\n          {uniqueValues.years.map(option => (\r\n            <MenuItem key={option} value={option}>{option}</MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={4}>\r\n        <TextField\r\n          label=\"FTE\"\r\n          type=\"number\"\r\n          value={filters.fte}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            handleFilterChange('fte', Math.max(0, Math.min(2, Number(e.target.value))))\r\n          }\r\n          fullWidth\r\n          size=\"small\"\r\n          inputProps={{ min: 0, max: 2, step: 0.01 }}\r\n          InputProps={{\r\n            endAdornment: <InputAdornment position=\"end\">FTE</InputAdornment>\r\n          }}\r\n          sx={{\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { \r\n  Paper, \r\n  Box, \r\n  Typography, \r\n  RadioGroup, \r\n  FormControlLabel, \r\n  Radio \r\n} from '@mui/material';\r\nimport { CompareTypeSelectorProps } from '../types/fmv';\r\n\r\n/**\r\n * Comparison Type Selector component for choosing FMV analysis type\r\n * \r\n * @param compareType - Current comparison type\r\n * @param onCompareTypeChange - Callback when comparison type changes\r\n */\r\nexport const CompareTypeSelector: React.FC<CompareTypeSelectorProps> = ({ \r\n  compareType, \r\n  onCompareTypeChange \r\n}) => {\r\n  return (\r\n    <Paper sx={{ \r\n      p: 2, \r\n      mb: 3, \r\n      background: '#f8fafc', \r\n      boxShadow: 'none', \r\n      border: '1.5px solid #b0b4bb' \r\n    }}>\r\n      <Box sx={{ display: 'flex', alignItems: 'center', gap: 3 }}>\r\n        <Typography\r\n          variant=\"subtitle1\"\r\n          sx={{ \r\n            fontWeight: 600, \r\n            color: 'text.primary', \r\n            mb: 0, \r\n            minWidth: 180 \r\n          }}\r\n          component=\"label\"\r\n          htmlFor=\"comparison-type-radio-group\"\r\n        >\r\n          Comparison Type\r\n        </Typography>\r\n        <RadioGroup\r\n          row\r\n          id=\"comparison-type-radio-group\"\r\n          value={compareType}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n            onCompareTypeChange(e.target.value as 'TCC' | 'wRVUs' | 'CFs')\r\n          }\r\n          sx={{ gap: 4 }}\r\n        >\r\n          <FormControlLabel \r\n            value=\"TCC\" \r\n            control={<Radio />} \r\n            label=\"Total Cash Compensation\" \r\n          />\r\n          <FormControlLabel \r\n            value=\"wRVUs\" \r\n            control={<Radio />} \r\n            label=\"Work RVUs\" \r\n          />\r\n          <FormControlLabel \r\n            value=\"CFs\" \r\n            control={<Radio />} \r\n            label=\"Conversion Factors\" \r\n          />\r\n        </RadioGroup>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { \r\n  Paper, \r\n  Typography, \r\n  Grid, \r\n  TextField, \r\n  Box, \r\n  Button, \r\n  InputAdornment \r\n} from '@mui/material';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport { TrashIcon } from '@heroicons/react/24/outline';\r\nimport { TCCItemizationProps } from '../types/fmv';\r\nimport { calculateTotalTCC } from '../utils/fmvCalculations';\r\n\r\n/**\r\n * TCC Itemization component for breaking down compensation components\r\n * \r\n * @param components - Array of compensation components\r\n * @param onComponentsChange - Callback when components change\r\n */\r\nexport const TCCItemization: React.FC<TCCItemizationProps> = ({ \r\n  components, \r\n  onComponentsChange \r\n}) => {\r\n  const addComponent = () => {\r\n    onComponentsChange([...components, { type: '', amount: '', notes: '' }]);\r\n  };\r\n\r\n  const removeComponent = (idx: number) => {\r\n    onComponentsChange(components.filter((_, i) => i !== idx));\r\n  };\r\n\r\n  const updateComponent = (idx: number, field: 'type' | 'amount' | 'notes', value: string) => {\r\n    const newComps = [...components];\r\n    newComps[idx] = { ...newComps[idx], [field]: value };\r\n    onComponentsChange(newComps);\r\n  };\r\n\r\n  const total = calculateTotalTCC(components);\r\n\r\n  return (\r\n    <Paper sx={{ \r\n      p: 2, \r\n      mb: 3, \r\n      border: '1.5px solid #b0b4bb', \r\n      boxShadow: 'none' \r\n    }}>\r\n      <Typography variant=\"subtitle1\" sx={{ mb: 1, fontWeight: 700 }}>\r\n        Compensation Components\r\n      </Typography>\r\n      \r\n      <Grid container spacing={2} alignItems=\"center\">\r\n        {components.map((component, idx) => (\r\n          <React.Fragment key={idx}>\r\n            <Grid item xs={12} md={3}>\r\n              <Autocomplete\r\n                freeSolo\r\n                options={[\"Base Salary\", \"Bonus\", \"Incentive\", \"Other\"]}\r\n                value={component.type}\r\n                onInputChange={(_, newValue) => updateComponent(idx, 'type', newValue)}\r\n                renderInput={(params) => (\r\n                  <TextField \r\n                    {...params} \r\n                    label=\"Type\" \r\n                    fullWidth \r\n                    size=\"small\"\r\n                    sx={{\r\n                      '& .MuiOutlinedInput-root': {\r\n                        borderRadius: '8px',\r\n                      }\r\n                    }}\r\n                  />\r\n                )}\r\n              />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={3}>\r\n              <TextField\r\n                label=\"Amount\"\r\n                type=\"number\"\r\n                value={component.amount}\r\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n                  updateComponent(idx, 'amount', e.target.value)\r\n                }\r\n                fullWidth\r\n                size=\"small\"\r\n                InputProps={{ \r\n                  startAdornment: <InputAdornment position=\"start\">$</InputAdornment> \r\n                }}\r\n                sx={{\r\n                  '& .MuiOutlinedInput-root': {\r\n                    borderRadius: '8px',\r\n                  }\r\n                }}\r\n              />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6} sx={{ display: 'flex', alignItems: 'center' }}>\r\n              <TextField\r\n                label=\"Notes\"\r\n                value={component.notes}\r\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => \r\n                  updateComponent(idx, 'notes', e.target.value)\r\n                }\r\n                size=\"small\"\r\n                sx={{ \r\n                  flex: 1, \r\n                  mr: 2,\r\n                  '& .MuiOutlinedInput-root': {\r\n                    borderRadius: '8px',\r\n                  }\r\n                }}\r\n              />\r\n              <Box sx={{ \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                minWidth: 120, \r\n                justifyContent: 'flex-end' \r\n              }}>\r\n                <Button\r\n                  onClick={() => removeComponent(idx)}\r\n                  color=\"error\"\r\n                  size=\"small\"\r\n                  sx={{ minWidth: 0, p: 1, mr: 1 }}\r\n                  aria-label=\"Remove\"\r\n                >\r\n                  <TrashIcon className=\"h-5 w-5 text-gray-500\" />\r\n                </Button>\r\n              </Box>\r\n            </Grid>\r\n          </React.Fragment>\r\n        ))}\r\n      </Grid>\r\n      \r\n      {/* Total TCC and Add Component Button */}\r\n      <Box sx={{ \r\n        mt: 2, \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        justifyContent: 'space-between' \r\n      }}>\r\n        <Typography sx={{ \r\n          fontWeight: 700, \r\n          fontSize: '1.1rem', \r\n          textAlign: 'left' \r\n        }}>\r\n          Total TCC: ${total.toLocaleString()}\r\n        </Typography>\r\n        <Button\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          startIcon={<span style={{ fontWeight: 'bold', fontSize: '1.2em' }}>+</span>}\r\n          onClick={addComponent}\r\n          sx={{\r\n            borderRadius: '8px',\r\n          }}\r\n        >\r\n          Add Component\r\n        </Button>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { \r\n  Paper, \r\n  FormControl, \r\n  Typography, \r\n  TextField, \r\n  InputAdornment, \r\n  FormHelperText \r\n} from '@mui/material';\r\nimport { WRVUsInputProps } from '../types/fmv';\r\nimport { applyFTEAdjustment } from '../utils/fmvCalculations';\r\n\r\n/**\r\n * WRVUs Input component for entering work RVU values\r\n * \r\n * @param value - Current wRVU value\r\n * @param onChange - Callback when value changes\r\n * @param fte - FTE value for adjustment calculation\r\n */\r\nexport const WRVUsInput: React.FC<WRVUsInputProps> = ({ \r\n  value, \r\n  onChange, \r\n  fte \r\n}) => {\r\n  const normalized = applyFTEAdjustment(Number(value), fte);\r\n\r\n  return (\r\n    <Paper sx={{ p: 2, mb: 2 }}>\r\n      <FormControl fullWidth>\r\n        <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\r\n          Work RVUs\r\n        </Typography>\r\n        <TextField\r\n          label=\"Annual wRVUs\"\r\n          type=\"number\"\r\n          value={value}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => onChange(e.target.value)}\r\n          size=\"small\"\r\n          InputProps={{ \r\n            endAdornment: <InputAdornment position=\"end\">wRVUs</InputAdornment> \r\n          }}\r\n          sx={{ \r\n            mb: 1, \r\n            width: 220,\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        />\r\n        <FormHelperText>\r\n          <span style={{ fontWeight: 500, color: '#333' }}>\r\n            FTE-adjusted: {normalized.toLocaleString(undefined, { \r\n              minimumFractionDigits: 2, \r\n              maximumFractionDigits: 2 \r\n            })} wRVUs\r\n          </span>\r\n          <br />\r\n          <span style={{ color: '#888' }}>\r\n            Your value will be annualized to 1.0 FTE for market comparison.\r\n          </span>\r\n        </FormHelperText>\r\n      </FormControl>\r\n    </Paper>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { \r\n  Paper, \r\n  FormControl, \r\n  Typography, \r\n  TextField, \r\n  InputAdornment, \r\n  FormHelperText \r\n} from '@mui/material';\r\nimport { CFInputProps } from '../types/fmv';\r\n\r\n/**\r\n * Conversion Factor Input component for entering conversion factor values\r\n * \r\n * @param value - Current conversion factor value\r\n * @param onChange - Callback when value changes\r\n * @param fte - FTE value (not used for CF but kept for consistency)\r\n * @param percentile - Optional percentile value for display\r\n */\r\nexport const CFInput: React.FC<CFInputProps> = ({ \r\n  value, \r\n  onChange, \r\n  fte, \r\n  percentile \r\n}) => {\r\n  return (\r\n    <Paper sx={{ \r\n      p: 2, \r\n      mb: 2, \r\n      border: '1.5px solid #b0b4bb', \r\n      boxShadow: 'none' \r\n    }}>\r\n      <FormControl fullWidth>\r\n        <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\r\n          Conversion Factor ($/wRVU)\r\n        </Typography>\r\n        <TextField\r\n          label=\"Conversion Factor\"\r\n          type=\"number\"\r\n          value={value}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => onChange(e.target.value)}\r\n          size=\"small\"\r\n          InputProps={{ \r\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>, \r\n            endAdornment: <InputAdornment position=\"end\">/wRVU</InputAdornment> \r\n          }}\r\n          sx={{ \r\n            mb: 1, \r\n            width: 220,\r\n            '& .MuiOutlinedInput-root': {\r\n              borderRadius: '8px',\r\n            }\r\n          }}\r\n        />\r\n        <FormHelperText>\r\n          Enter your conversion factor, or calculate as TCC / wRVUs.\r\n          <br />\r\n          <span style={{ color: '#888' }}>\r\n            FTE does not affect this value.\r\n          </span>\r\n        </FormHelperText>\r\n      </FormControl>\r\n    </Paper>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { \r\n  Paper, \r\n  Typography, \r\n  Grid, \r\n  Box, \r\n  Button \r\n} from '@mui/material';\r\nimport { keyframes } from '@mui/system';\r\nimport { ResultsPanelProps } from '../types/fmv';\r\nimport { formatFMVValue } from '../utils/fmvCalculations';\r\n\r\n// CSS keyframes for marker pulse animation\r\nconst markerPulse = keyframes`\r\n  0% { box-shadow: 0 0 0 0 rgba(33, 150, 243, 0.7); }\r\n  70% { box-shadow: 0 0 0 10px rgba(33, 150, 243, 0); }\r\n  100% { box-shadow: 0 0 0 0 rgba(33, 150, 243, 0); }\r\n`;\r\n\r\n/**\r\n * Results Panel component for displaying market comparison results\r\n * \r\n * @param compareType - Type of comparison being displayed\r\n * @param marketData - Market data with percentiles\r\n * @param percentiles - User percentile rankings\r\n * @param inputValue - User's input value\r\n * @param rawValue - Raw user value\r\n * @param fte - FTE value\r\n * @param onResetFilters - Optional callback to reset filters\r\n */\r\nexport const ResultsPanel: React.FC<ResultsPanelProps> = ({ \r\n  compareType, \r\n  marketData, \r\n  percentiles, \r\n  inputValue, \r\n  rawValue, \r\n  fte, \r\n  onResetFilters \r\n}) => {\r\n  // Get the appropriate percentile data based on comparison type\r\n  const percentileData = \r\n    compareType === 'wRVUs' ? marketData?.wrvu :\r\n    compareType === 'TCC' ? marketData?.tcc :\r\n    compareType === 'CFs' ? marketData?.cf :\r\n    undefined;\r\n\r\n  const currentPercentile = \r\n    compareType === 'wRVUs' ? percentiles.wrvu :\r\n    compareType === 'TCC' ? percentiles.tcc :\r\n    compareType === 'CFs' ? percentiles.cf :\r\n    null;\r\n\r\n  // Check if market data is available\r\n  const noMarketData = !percentileData;\r\n\r\n  return (\r\n    <Paper sx={{ \r\n      p: 2, \r\n      mt: 3, \r\n      border: '1.5px solid #b0b4bb', \r\n      boxShadow: 'none' \r\n    }}>\r\n      <Typography variant=\"subtitle1\" sx={{ mb: 2, fontWeight: 700 }}>\r\n        Market Comparison\r\n      </Typography>\r\n      \r\n      {noMarketData ? (\r\n        <Box sx={{ textAlign: 'center', py: 4 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n            No market data available for these filters.\r\n          </Typography>\r\n          {onResetFilters && (\r\n            <Button \r\n              variant=\"outlined\" \r\n              size=\"small\" \r\n              onClick={onResetFilters}\r\n              sx={{\r\n                borderRadius: '8px',\r\n              }}\r\n            >\r\n              Reset Filters\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      ) : (\r\n        <>\r\n          {/* Percentile Cards */}\r\n          <Grid container spacing={2} sx={{ mb: 3 }}>\r\n            {['25th', '50th', '75th', '90th'].map((percentile) => {\r\n              const key = `p${percentile.slice(0, 2)}` as keyof typeof percentileData;\r\n              return (\r\n                <Grid item xs={12} sm={6} md={3} key={percentile}>\r\n                  <Paper sx={{ \r\n                    p: 1.5, \r\n                    textAlign: 'center', \r\n                    background: '#f8fafc', \r\n                    boxShadow: 2, \r\n                    border: '1.5px solid #b0b4bb' \r\n                  }}>\r\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                      {percentile} Percentile\r\n                    </Typography>\r\n                    <Typography variant=\"h6\">\r\n                      {percentileData && percentileData[key] != null\r\n                        ? formatFMVValue(percentileData[key], compareType)\r\n                        : '-'}\r\n                    </Typography>\r\n                  </Paper>\r\n                </Grid>\r\n              );\r\n            })}\r\n          </Grid>\r\n\r\n          {/* Percentile Visualization */}\r\n          <Box sx={{ mt: 7, mb: 2, textAlign: 'center' }}>\r\n            {typeof currentPercentile === 'number' && !isNaN(currentPercentile) ? (\r\n              <Typography\r\n                variant=\"h6\"\r\n                gutterBottom\r\n                color=\"primary\"\r\n                sx={{ fontWeight: 700, fontSize: '1.35rem', mb: 2 }}\r\n              >\r\n                You are in the {currentPercentile.toFixed(2)}th percentile\r\n              </Typography>\r\n            ) : (\r\n              <Typography variant=\"h6\" gutterBottom color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                Enter a value to see your percentile\r\n              </Typography>\r\n            )}\r\n            \r\n            {/* Percentile Bar */}\r\n            <Box sx={{ \r\n              position: 'relative', \r\n              height: 6, \r\n              bgcolor: 'grey.200', \r\n              borderRadius: 2, \r\n              mt: 3 \r\n            }}>\r\n              <Box\r\n                sx={{\r\n                  position: 'absolute',\r\n                  left: `${typeof currentPercentile === 'number' && !isNaN(currentPercentile) ? currentPercentile : 0}%`,\r\n                  top: -8,\r\n                  width: 24,\r\n                  height: 24,\r\n                  bgcolor: 'primary.main',\r\n                  border: '3px solid #fff',\r\n                  boxShadow: 1,\r\n                  borderRadius: '50%',\r\n                  transform: 'translateX(-50%)',\r\n                  zIndex: 1,\r\n                  animation: `${markerPulse} 1.5s infinite`,\r\n                }}\r\n              />\r\n              <Box sx={{ \r\n                position: 'absolute', \r\n                left: 0, \r\n                top: 0, \r\n                width: '100%', \r\n                height: 6, \r\n                bgcolor: 'primary.main', \r\n                borderRadius: 2, \r\n                opacity: 0.2 \r\n              }} />\r\n            </Box>\r\n            \r\n            {/* Percentile Labels */}\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 1 }}>\r\n              <Typography variant=\"subtitle1\" sx={{ fontWeight: 700, fontSize: '1.1rem' }}>\r\n                0th\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\" sx={{ fontWeight: 700, fontSize: '1.1rem' }}>\r\n                100th\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        </>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n","import { Box, Typography, Table, TableBody, TableCell, TableRow, Grid } from '@mui/material';\nimport { forwardRef } from 'react';\n\ninterface Props {\n  compareType: 'TCC' | 'wRVUs' | 'CFs';\n  specialty: string;\n  providerType: string;\n  region: string;\n  year: string;\n  value: number;\n  marketPercentile: number;\n  marketData: { p25: number; p50: number; p75: number; p90: number };\n}\n\nconst FairMarketValuePrintable = forwardRef<HTMLDivElement, Props>(({\n  compareType, specialty, providerType, region, year,\n  value, marketPercentile, marketData\n}, ref) => {\n  // Label and formatting based on compareType\n  let valueLabel = 'Total Compensation';\n  let valuePrefix = '$';\n  let valueSuffix = '';\n  if (compareType === 'wRVUs') {\n    valueLabel = 'Work RVUs';\n    valuePrefix = '';\n    valueSuffix = ' wRVUs';\n  } else if (compareType === 'CFs') {\n    valueLabel = 'Conversion Factor';\n    valuePrefix = '$';\n    valueSuffix = ' /wRVU';\n  }\n  const formatValue = (v: number) =>\n    compareType === 'wRVUs'\n      ? v.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n      : v.toLocaleString();\n\n  return (\n    <Box\n      ref={ref}\n      sx={{\n        fontFamily: 'Inter, Roboto, Arial, Helvetica, sans-serif',\n        background: 'white',\n        color: 'black',\n        maxWidth: 650,\n        margin: '0 auto',\n        p: 4,\n        boxSizing: 'border-box',\n        '@media print': {\n          color: 'black',\n          backgroundColor: 'white',\n          boxShadow: 'none',\n          '-webkit-print-color-adjust': 'exact',\n          printColorAdjust: 'exact',\n          padding: '32px',\n          maxWidth: '650px',\n          margin: '0 auto',\n        }\n      }}\n    >\n      {/* Global print CSS for strong borders, font, and spacing */}\n      <style>{`\n        @media print {\n          body { background: white !important; }\n          * { box-sizing: border-box; }\n          .fmv-print-title { font-size: 32px !important; font-weight: 800 !important; letter-spacing: 0.5px; }\n          .fmv-print-section { font-size: 18px !important; font-weight: 700 !important; margin-bottom: 8px; }\n          .fmv-print-table, .fmv-print-table th, .fmv-print-table td {\n            border: 2px solid #222 !important;\n            font-size: 16px !important;\n            font-weight: 500 !important;\n            color: #111 !important;\n          }\n          .fmv-print-table th, .fmv-print-table td { padding: 12px 16px !important; }\n          .fmv-print-bold { font-weight: 800 !important; }\n          .fmv-print-market-label { font-size: 15px !important; font-weight: 700 !important; }\n          .fmv-print-market-value { font-size: 20px !important; font-weight: 800 !important; }\n        }\n      `}</style>\n      {/* Header with real logo */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n          <img src={process.env.PUBLIC_URL + '/Icon.png'} alt=\"BenchPoint Logo\" style={{ width: 40, height: 40, objectFit: 'contain', marginRight: 16 }} />\n          <Typography sx={{ fontWeight: 700, fontSize: 28, letterSpacing: 1, fontFamily: 'inherit' }}>BenchPoint</Typography>\n        </Box>\n        <Box textAlign=\"right\">\n          <Typography sx={{ fontSize: 13, fontWeight: 600, color: 'black', mb: 0.5 }}>Fair Market Value Report</Typography>\n          <Typography sx={{ fontSize: 13, color: 'black' }}>Generated: {new Date().toLocaleDateString()}</Typography>\n        </Box>\n      </Box>\n      <Box sx={{ borderBottom: '2px solid #222', mb: 2 }} />\n      {/* Title */}\n      <Typography className=\"fmv-print-title\" sx={{ mb: 2, mt: 1, color: 'black', textAlign: 'left' }}>\n        Fair Market Value Summary\n      </Typography>\n      <Box sx={{ borderBottom: '2px solid #222', mb: 2 }} />\n      {/* Position Details */}\n      <Typography className=\"fmv-print-section\" sx={{ color: 'black', mb: 0 }}>Position Details</Typography>\n      <Table size=\"small\" className=\"fmv-print-table\" sx={{ mb: 3, minWidth: 400, border: '2px solid #222', borderRadius: 1 }}>\n        <TableBody>\n          <TableRow>\n            <TableCell>{specialty}</TableCell>\n            <TableCell>{providerType}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{region}</TableCell>\n            <TableCell>Year {year}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n      {/* Compensation/Productivity/CF Analysis */}\n      <Typography className=\"fmv-print-section\" sx={{ color: 'black', mb: 0 }}>{valueLabel} Analysis</Typography>\n      <Box sx={{ border: '2px solid #222', borderRadius: 1, mb: 3 }}>\n        <Grid container>\n          <Grid item xs={7} sx={{ p: 1.5, borderRight: '1.5px solid #222', fontSize: 16, fontWeight: 500 }}>{valueLabel}</Grid>\n          <Grid item xs={5} sx={{ p: 1.5, textAlign: 'right', fontWeight: 700, fontSize: 20 }}>\n            {valuePrefix}{formatValue(value)}{valueSuffix}\n          </Grid>\n        </Grid>\n        <Box sx={{ borderTop: '1.5px solid #222' }} />\n        <Grid container>\n          <Grid item xs={7} sx={{ p: 1.5, borderRight: '1.5px solid #222', fontSize: 16, fontWeight: 500 }}>Market Percentile</Grid>\n          <Grid item xs={5} sx={{ p: 1.5, textAlign: 'right', fontWeight: 500, fontSize: 16 }}>\n            {marketPercentile.toFixed(1)}th\n          </Grid>\n        </Grid>\n      </Box>\n      {/* Market Data */}\n      <Typography className=\"fmv-print-section\" sx={{ color: 'black', mb: 0 }}>Market Data</Typography>\n      <Box sx={{ border: '2px solid #222', borderRadius: 1, mb: 3, p: 0 }}>\n        <Grid container>\n          {['25th', '50th', '75th', '90th'].map((label, i) => {\n            const valueKey = ['p25', 'p50', 'p75', 'p90'][i] as keyof typeof marketData;\n            return (\n              <Grid item xs={3} key={label} sx={{\n                borderRight: i < 3 ? '1.5px solid #222' : 'none',\n                p: 2,\n                textAlign: 'center',\n              }}>\n                <Typography className=\"fmv-print-market-label\" sx={{ mb: 0.5 }}>{label} Percentile</Typography>\n                <Typography className=\"fmv-print-market-value\" sx={{ color: 'black' }}>\n                  {valuePrefix}{formatValue(marketData[valueKey] ?? 0)}{valueSuffix}\n                </Typography>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </Box>\n      {/* Percentile Bar */}\n      <Box sx={{ mt: 2, mb: 0 }}>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" fontSize=\"1.1rem\" mb={0.5}>\n          <Typography sx={{ fontWeight: 700, fontSize: 16 }}>0th</Typography>\n          <Typography sx={{ fontWeight: 700, fontSize: 16 }}>100th</Typography>\n        </Box>\n        <Box position=\"relative\" height={18} bgcolor=\"#e0e0e0\" borderRadius={3} mb={1}>\n          <Box\n            sx={{\n              position: 'absolute',\n              left: `${Math.max(0, Math.min(100, marketPercentile))}%`,\n              width: 22, height: 22,\n              bgcolor: 'black',\n              borderRadius: '50%',\n              border: '3px solid white',\n              boxShadow: 1,\n              transform: 'translateX(-50%)',\n              top: -2,\n            }}\n          />\n        </Box>\n        <Typography textAlign=\"center\" fontSize={16} fontWeight={700} mt={1} mb={1}>\n          In {marketPercentile.toFixed(1)}th percentile\n        </Typography>\n      </Box>\n    </Box>\n  );\n});\n\nexport default FairMarketValuePrintable; ","import React, { useRef } from 'react';\r\nimport { useReactToPrint } from 'react-to-print';\r\nimport { useFMVData } from '../hooks/useFMVData';\r\nimport { FMVFilters } from './FMVFilters';\r\nimport { CompareTypeSelector } from './CompareTypeSelector';\r\nimport { TCCItemization } from './TCCItemization';\r\nimport { WRVUsInput } from './WRVUsInput';\r\nimport { CFInput } from './CFInput';\r\nimport { ResultsPanel } from './ResultsPanel';\r\nimport FairMarketValuePrintable from '../../../components/FairMarketValuePrintable';\r\nimport { FMVCalculatorProps } from '../types/fmv';\r\n\r\n/**\r\n * Main FMV Calculator component that orchestrates all sub-components\r\n * \r\n * @param onPrint - Optional callback for print functionality\r\n */\r\nexport const FMVCalculator: React.FC<FMVCalculatorProps> = ({ onPrint }) => {\r\n  const {\r\n    // State\r\n    filters,\r\n    compComponents,\r\n    wrvus,\r\n    cf,\r\n    compareType,\r\n    marketData,\r\n    percentiles,\r\n    uniqueValues,\r\n    loading,\r\n    error,\r\n    \r\n    // Calculated values\r\n    tcc,\r\n    tccFTEAdjusted,\r\n    wrvusFTEAdjusted,\r\n    \r\n    // Actions\r\n    updateFilters,\r\n    setCompComponents,\r\n    setWRVUs,\r\n    setCF,\r\n    setCompareType,\r\n    resetFilters,\r\n  } = useFMVData();\r\n\r\n  // Print functionality\r\n  const printRef = useRef<HTMLDivElement>(null);\r\n  const handlePrint = useReactToPrint({\r\n    contentRef: printRef,\r\n    pageStyle: \"@page { size: auto; margin: 0; }\",\r\n    documentTitle: \"Fair Market Value Report\"\r\n  });\r\n\r\n  // Handle print button click\r\n  const handlePrintClick = () => {\r\n    handlePrint();\r\n    onPrint?.();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Main App Content */}\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"max-w-7xl mx-auto py-6\">\r\n          {/* Print Button Section */}\r\n          <div className=\"flex justify-end mb-6\">\r\n            <button\r\n              onClick={handlePrintClick}\r\n              className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200\"\r\n            >\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\r\n              </svg>\r\n              Print Report\r\n            </button>\r\n          </div>\r\n\r\n          {/* Filters Section */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\r\n            <div className=\"mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Market Data Filters</h2>\r\n              <p className=\"text-sm text-gray-600\">Select criteria to filter the market data for comparison</p>\r\n            </div>\r\n            <FMVFilters \r\n              filters={filters}\r\n              onFiltersChange={updateFilters}\r\n              uniqueValues={uniqueValues}\r\n            />\r\n          </div>\r\n\r\n          {/* Comparison Type Selector */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\r\n            <div className=\"mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Comparison Type</h2>\r\n              <p className=\"text-sm text-gray-600\">Choose what type of compensation data you want to compare</p>\r\n            </div>\r\n            <CompareTypeSelector \r\n              compareType={compareType}\r\n              onCompareTypeChange={setCompareType}\r\n            />\r\n          </div>\r\n\r\n          {/* Input Components based on comparison type */}\r\n          {compareType === 'TCC' && (\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\r\n              <div className=\"mb-4\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Total Cash Compensation</h2>\r\n                <p className=\"text-sm text-gray-600\">Enter your compensation components for analysis</p>\r\n              </div>\r\n              <TCCItemization \r\n                components={compComponents}\r\n                onComponentsChange={setCompComponents}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {compareType === 'wRVUs' && (\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\r\n              <div className=\"mb-4\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Work RVUs</h2>\r\n                <p className=\"text-sm text-gray-600\">Enter your Work RVU data for productivity analysis</p>\r\n              </div>\r\n              <WRVUsInput \r\n                value={wrvus}\r\n                onChange={setWRVUs}\r\n                fte={filters.fte}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {compareType === 'CFs' && (\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\r\n              <div className=\"mb-4\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Conversion Factor</h2>\r\n                <p className=\"text-sm text-gray-600\">Enter your conversion factor for analysis</p>\r\n              </div>\r\n              <CFInput \r\n                value={cf}\r\n                onChange={setCF}\r\n                fte={filters.fte}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Results Panel */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            <ResultsPanel \r\n              compareType={compareType}\r\n              marketData={marketData}\r\n              percentiles={percentiles}\r\n              inputValue={\r\n                compareType === 'TCC' ? tccFTEAdjusted : \r\n                compareType === 'wRVUs' ? wrvusFTEAdjusted : \r\n                Number(cf)\r\n              }\r\n              rawValue={\r\n                compareType === 'TCC' ? Number(tcc) : \r\n                compareType === 'wRVUs' ? Number(wrvus) : \r\n                Number(cf)\r\n              }\r\n              fte={filters.fte}\r\n              onResetFilters={resetFilters}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Hidden printable component for react-to-print */}\r\n        <div style={{ position: 'absolute', left: '-9999px', top: 0, visibility: 'hidden' }}>\r\n          <FairMarketValuePrintable\r\n            ref={printRef}\r\n            compareType={compareType}\r\n            specialty={filters.specialty}\r\n            providerType={filters.providerType}\r\n            region={filters.region}\r\n            year={filters.year}\r\n            value={\r\n              compareType === 'TCC' ? tcc : \r\n              compareType === 'wRVUs' ? Number(wrvus) : \r\n              Number(cf)\r\n            }\r\n            marketPercentile={\r\n              compareType === 'TCC' ? percentiles.tcc ?? 0 :\r\n              compareType === 'wRVUs' ? percentiles.wrvu ?? 0 :\r\n              percentiles.cf ?? 0\r\n            }\r\n            marketData={\r\n              compareType === 'TCC' ? (marketData?.tcc ?? { p25: 0, p50: 0, p75: 0, p90: 0 }) :\r\n              compareType === 'wRVUs' ? (marketData?.wrvu ?? { p25: 0, p50: 0, p75: 0, p90: 0 }) :\r\n              (marketData?.cf ?? { p25: 0, p50: 0, p75: 0, p90: 0 })\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { FMVCalculator } from '../features/fmv';\r\n\r\nconst FairMarketValue: React.FC = () => (\r\n  <FMVCalculator />\r\n);\r\n\r\nexport default FairMarketValue; "],"names":["calculatePercentile","numbers","percentile","length","sortedNumbers","sort","a","b","Math","floor","normalizeSurveyRow","row","surveyMeta","_surveyMeta$metadata","columnMappings","arguments","undefined","id","providerType","provider_type","geographicRegion","geographic_region","specialty","normalizedSpecialty","surveySource","surveyType","year","String","surveyYear","metadata","tcc_p25","Number","tcc_p50","tcc_p75","tcc_p90","wrvu_p25","wrvu_p50","wrvu_p75","wrvu_p90","cf_p25","cf_p50","cf_p75","cf_p90","normalizeString","str","toLowerCase","replace","trim","getPercentileRank","percentileObj","value","_percentileObj$p","_percentileObj$p2","isNaN","points","p","v","p0","p25","p50","p75","p90","p100","v0","p1","v1","p2","v2","i","calculateTotalTCC","components","reduce","sum","component","amount","applyFTEAdjustment","fte","formatFMVValue","compareType","toLocaleString","minimumFractionDigits","maximumFractionDigits","Intl","NumberFormat","style","currency","format","useFMVData","filters","setFilters","useState","region","compComponents","setCompComponents","type","notes","wrvus","setWRVUs","cf","setCF","setCompareType","marketData","setMarketData","percentiles","setPercentiles","tcc","wrvu","uniqueValues","setUniqueValues","specialties","providerTypes","regions","surveySources","years","loading","setLoading","error","setError","useMemo","tccFTEAdjusted","wrvusFTEAdjusted","fetchUniqueValues","useCallback","async","storageService","LocalStorageService","mappingService","SpecialtyMappingService","allMappings","getAllMappings","uploadedSurveys","listSurveys","yearsSet","Set","values","forEach","mapping","standardizedName","add","allRows","survey","_survey$metadata","_survey$metadata$colu","_survey$metadata2","uniqueProviderTypes","pt","uniqueRegions","r","data","getSurveyData","rows","_survey$metadata3","cm","normalizedRows","map","concat","Array","from","err","console","fetchMarketData","_survey$metadata4","mappedSpecialties","find","m","sourceSpecialties","s","filteredRows","specialtyFilters","filter","includes","applyFMVFilters","calculatedMarketData","tccs","flatMap","Boolean","cfs","calculateMarketData","calculatedPercentiles","calculateUserPercentiles","tccValue","wrvuValue","cfValue","updateFilters","newFilters","prev","_objectSpread","addCompComponent","removeCompComponent","index","_","updateCompComponent","field","newComponents","resetFilters","clearCompComponents","resetAll","useEffect","FMVFilters","_ref","onFiltersChange","handleFilterChange","_jsxs","Grid","container","spacing","sx","mb","children","_jsx","item","xs","md","TextField","select","label","onChange","e","target","fullWidth","size","borderRadius","MenuItem","option","max","min","inputProps","step","InputProps","endAdornment","InputAdornment","position","CompareTypeSelector","onCompareTypeChange","Paper","background","boxShadow","border","Box","display","alignItems","gap","Typography","variant","fontWeight","color","minWidth","htmlFor","RadioGroup","FormControlLabel","control","Radio","TCCItemization","onComponentsChange","updateComponent","idx","newComps","total","React","Autocomplete","freeSolo","options","onInputChange","newValue","renderInput","params","startAdornment","flex","mr","justifyContent","Button","onClick","removeComponent","TrashIcon","className","mt","fontSize","textAlign","startIcon","addComponent","WRVUsInput","normalized","FormControl","width","FormHelperText","CFInput","markerPulse","keyframes","_templateObject","_taggedTemplateLiteral","ResultsPanel","inputValue","rawValue","onResetFilters","percentileData","currentPercentile","noMarketData","py","_Fragment","key","slice","sm","gutterBottom","toFixed","height","bgcolor","left","top","transform","zIndex","animation","opacity","forwardRef","ref","marketPercentile","valueLabel","valuePrefix","valueSuffix","formatValue","fontFamily","maxWidth","margin","boxSizing","backgroundColor","printColorAdjust","padding","src","process","alt","objectFit","marginRight","letterSpacing","Date","toLocaleDateString","borderBottom","Table","TableBody","TableRow","TableCell","borderRight","borderTop","_marketData$valueKey","valueKey","FMVCalculator","_percentiles$tcc","_percentiles$wrvu","_percentiles$cf","_marketData$tcc","_marketData$wrvu","_marketData$cf","onPrint","printRef","useRef","handlePrint","useReactToPrint","contentRef","pageStyle","documentTitle","handlePrintClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","visibility","FairMarketValuePrintable","FairMarketValue"],"sourceRoot":""}